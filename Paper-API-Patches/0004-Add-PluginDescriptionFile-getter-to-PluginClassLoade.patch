From 925a0b78853546cbb15bb292d9878e3a5fcfba6d Mon Sep 17 00:00:00 2001
From: Indhi Rousseau <contact@thekinrar.fr>
Date: Sun, 27 Oct 2019 02:19:43 +0000
Subject: [PATCH] Add PluginDescriptionFile getter to PluginClassLoader

Can be used to get plugin info before main class has been loaded

diff --git a/src/main/java/org/bukkit/plugin/java/PluginClassLoader.java b/src/main/java/org/bukkit/plugin/java/PluginClassLoader.java
index 62f7a6817..208eea2bd 100644
--- a/src/main/java/org/bukkit/plugin/java/PluginClassLoader.java
+++ b/src/main/java/org/bukkit/plugin/java/PluginClassLoader.java
@@ -30,6 +30,7 @@ import org.jetbrains.annotations.Nullable;
  */
 public final class PluginClassLoader extends URLClassLoader { // Spigot
     public JavaPlugin getPlugin() { return plugin; } // Spigot
+    public PluginDescriptionFile getDescription() { return description; } // Papyrus
     private final JavaPluginLoader loader;
     private final Map<String, Class<?>> classes = new ConcurrentHashMap<String, Class<?>>();
     private final PluginDescriptionFile description;
-- 
2.27.0

