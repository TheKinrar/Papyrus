From ac634edfe872c0f64fe624cadd40178610e89a5c Mon Sep 17 00:00:00 2001
From: Indhi Rousseau <contact@thekinrar.fr>
Date: Tue, 1 Oct 2019 10:12:37 +0100
Subject: [PATCH] Support Material not being an enum anymore


diff --git a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java
index 68d36a512..e5b9ae640 100644
--- a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java
+++ b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java
@@ -585,7 +585,7 @@ public class PaperWorldConfig {
 
         altItemDespawnRateEnabled = getBoolean(path + ".enabled", false);
 
-        Map<Material, Integer> altItemDespawnRateMapDefault = new EnumMap<>(Material.class);
+        Map<Material, Integer> altItemDespawnRateMapDefault = new HashMap<>(Material.values().length);
         altItemDespawnRateMapDefault.put(Material.COBBLESTONE, 300);
         for (Material key : altItemDespawnRateMapDefault.keySet()) {
             config.addDefault("world-settings.default." + path + ".items." + key, altItemDespawnRateMapDefault.get(key));
@@ -607,7 +607,7 @@ public class PaperWorldConfig {
             altItemDespawnRateEnabled = false;
         }
 
-        altItemDespawnRateMap = new EnumMap<>(Material.class);
+        altItemDespawnRateMap = new HashMap<>(Material.values().length);
         if (!altItemDespawnRateEnabled) {
             return;
         }
diff --git a/src/main/java/org/bukkit/craftbukkit/block/CraftBed.java b/src/main/java/org/bukkit/craftbukkit/block/CraftBed.java
index 100ed8a8f..ae1582e01 100644
--- a/src/main/java/org/bukkit/craftbukkit/block/CraftBed.java
+++ b/src/main/java/org/bukkit/craftbukkit/block/CraftBed.java
@@ -18,38 +18,38 @@ public class CraftBed extends CraftBlockEntityState<TileEntityBed> implements Be
 
     @Override
     public DyeColor getColor() {
-        switch (getType()) {
-            case BLACK_BED:
+        switch (getType().name()) {
+            case "BLACK_BED":
                 return DyeColor.BLACK;
-            case BLUE_BED:
+            case "BLUE_BED":
                 return DyeColor.BLUE;
-            case BROWN_BED:
+            case "BROWN_BED":
                 return DyeColor.BROWN;
-            case CYAN_BED:
+            case "CYAN_BED":
                 return DyeColor.CYAN;
-            case GRAY_BED:
+            case "GRAY_BED":
                 return DyeColor.GRAY;
-            case GREEN_BED:
+            case "GREEN_BED":
                 return DyeColor.GREEN;
-            case LIGHT_BLUE_BED:
+            case "LIGHT_BLUE_BED":
                 return DyeColor.LIGHT_BLUE;
-            case LIGHT_GRAY_BED:
+            case "LIGHT_GRAY_BED":
                 return DyeColor.LIGHT_GRAY;
-            case LIME_BED:
+            case "LIME_BED":
                 return DyeColor.LIME;
-            case MAGENTA_BED:
+            case "MAGENTA_BED":
                 return DyeColor.MAGENTA;
-            case ORANGE_BED:
+            case "ORANGE_BED":
                 return DyeColor.ORANGE;
-            case PINK_BED:
+            case "PINK_BED":
                 return DyeColor.PINK;
-            case PURPLE_BED:
+            case "PURPLE_BED":
                 return DyeColor.PURPLE;
-            case RED_BED:
+            case "RED_BED":
                 return DyeColor.RED;
-            case WHITE_BED:
+            case "WHITE_BED":
                 return DyeColor.WHITE;
-            case YELLOW_BED:
+            case "YELLOW_BED":
                 return DyeColor.YELLOW;
             default:
                 throw new IllegalArgumentException("Unknown DyeColor for " + getType());
diff --git a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java
index d9749adb7..0aeb722c6 100644
--- a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java
+++ b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java
@@ -325,151 +325,151 @@ public class CraftBlock implements Block {
         // Paper end
         Material material = getType();
 
-        switch (material) {
-        case ACACIA_SIGN:
-        case ACACIA_WALL_SIGN:
-        case BIRCH_SIGN:
-        case BIRCH_WALL_SIGN:
-        case DARK_OAK_SIGN:
-        case DARK_OAK_WALL_SIGN:
-        case JUNGLE_SIGN:
-        case JUNGLE_WALL_SIGN:
-        case OAK_SIGN:
-        case OAK_WALL_SIGN:
-        case SPRUCE_SIGN:
-        case SPRUCE_WALL_SIGN:
+        switch (material.name()) {
+        case "ACACIA_SIGN":
+        case "ACACIA_WALL_SIGN":
+        case "BIRCH_SIGN":
+        case "BIRCH_WALL_SIGN":
+        case "DARK_OAK_SIGN":
+        case "DARK_OAK_WALL_SIGN":
+        case "JUNGLE_SIGN":
+        case "JUNGLE_WALL_SIGN":
+        case "OAK_SIGN":
+        case "OAK_WALL_SIGN":
+        case "SPRUCE_SIGN":
+        case "SPRUCE_WALL_SIGN":
             return new CraftSign(this);
-        case CHEST:
-        case TRAPPED_CHEST:
+        case "CHEST":
+        case "TRAPPED_CHEST":
             return new CraftChest(this);
-        case FURNACE:
+        case "FURNACE":
             return new CraftFurnaceFurnace(this);
-        case DISPENSER:
+        case "DISPENSER":
             return new CraftDispenser(this);
-        case DROPPER:
+        case "DROPPER":
             return new CraftDropper(this);
-        case END_GATEWAY:
+        case "END_GATEWAY":
             return new CraftEndGateway(this);
-        case HOPPER:
+        case "HOPPER":
             return new CraftHopper(this);
-        case SPAWNER:
+        case "SPAWNER":
             return new CraftCreatureSpawner(this);
-        case JUKEBOX:
+        case "JUKEBOX":
             return new CraftJukebox(this);
-        case BREWING_STAND:
+        case "BREWING_STAND":
             return new CraftBrewingStand(this);
-        case CREEPER_HEAD:
-        case CREEPER_WALL_HEAD:
-        case DRAGON_HEAD:
-        case DRAGON_WALL_HEAD:
-        case PLAYER_HEAD:
-        case PLAYER_WALL_HEAD:
-        case SKELETON_SKULL:
-        case SKELETON_WALL_SKULL:
-        case WITHER_SKELETON_SKULL:
-        case WITHER_SKELETON_WALL_SKULL:
-        case ZOMBIE_HEAD:
-        case ZOMBIE_WALL_HEAD:
+        case "CREEPER_HEAD":
+        case "CREEPER_WALL_HEAD":
+        case "DRAGON_HEAD":
+        case "DRAGON_WALL_HEAD":
+        case "PLAYER_HEAD":
+        case "PLAYER_WALL_HEAD":
+        case "SKELETON_SKULL":
+        case "SKELETON_WALL_SKULL":
+        case "WITHER_SKELETON_SKULL":
+        case "WITHER_SKELETON_WALL_SKULL":
+        case "ZOMBIE_HEAD":
+        case "ZOMBIE_WALL_HEAD":
             return new CraftSkull(this);
-        case COMMAND_BLOCK:
-        case CHAIN_COMMAND_BLOCK:
-        case REPEATING_COMMAND_BLOCK:
+        case "COMMAND_BLOCK":
+        case "CHAIN_COMMAND_BLOCK":
+        case "REPEATING_COMMAND_BLOCK":
             return new CraftCommandBlock(this);
-        case BEACON:
+        case "BEACON":
             return new CraftBeacon(this);
-        case BLACK_BANNER:
-        case BLACK_WALL_BANNER:
-        case BLUE_BANNER:
-        case BLUE_WALL_BANNER:
-        case BROWN_BANNER:
-        case BROWN_WALL_BANNER:
-        case CYAN_BANNER:
-        case CYAN_WALL_BANNER:
-        case GRAY_BANNER:
-        case GRAY_WALL_BANNER:
-        case GREEN_BANNER:
-        case GREEN_WALL_BANNER:
-        case LIGHT_BLUE_BANNER:
-        case LIGHT_BLUE_WALL_BANNER:
-        case LIGHT_GRAY_BANNER:
-        case LIGHT_GRAY_WALL_BANNER:
-        case LIME_BANNER:
-        case LIME_WALL_BANNER:
-        case MAGENTA_BANNER:
-        case MAGENTA_WALL_BANNER:
-        case ORANGE_BANNER:
-        case ORANGE_WALL_BANNER:
-        case PINK_BANNER:
-        case PINK_WALL_BANNER:
-        case PURPLE_BANNER:
-        case PURPLE_WALL_BANNER:
-        case RED_BANNER:
-        case RED_WALL_BANNER:
-        case WHITE_BANNER:
-        case WHITE_WALL_BANNER:
-        case YELLOW_BANNER:
-        case YELLOW_WALL_BANNER:
+        case "BLACK_BANNER":
+        case "BLACK_WALL_BANNER":
+        case "BLUE_BANNER":
+        case "BLUE_WALL_BANNER":
+        case "BROWN_BANNER":
+        case "BROWN_WALL_BANNER":
+        case "CYAN_BANNER":
+        case "CYAN_WALL_BANNER":
+        case "GRAY_BANNER":
+        case "GRAY_WALL_BANNER":
+        case "GREEN_BANNER":
+        case "GREEN_WALL_BANNER":
+        case "LIGHT_BLUE_BANNER":
+        case "LIGHT_BLUE_WALL_BANNER":
+        case "LIGHT_GRAY_BANNER":
+        case "LIGHT_GRAY_WALL_BANNER":
+        case "LIME_BANNER":
+        case "LIME_WALL_BANNER":
+        case "MAGENTA_BANNER":
+        case "MAGENTA_WALL_BANNER":
+        case "ORANGE_BANNER":
+        case "ORANGE_WALL_BANNER":
+        case "PINK_BANNER":
+        case "PINK_WALL_BANNER":
+        case "PURPLE_BANNER":
+        case "PURPLE_WALL_BANNER":
+        case "RED_BANNER":
+        case "RED_WALL_BANNER":
+        case "WHITE_BANNER":
+        case "WHITE_WALL_BANNER":
+        case "YELLOW_BANNER":
+        case "YELLOW_WALL_BANNER":
             return new CraftBanner(this);
-        case STRUCTURE_BLOCK:
+        case "STRUCTURE_BLOCK":
             return new CraftStructureBlock(this);
-        case SHULKER_BOX:
-        case WHITE_SHULKER_BOX:
-        case ORANGE_SHULKER_BOX:
-        case MAGENTA_SHULKER_BOX:
-        case LIGHT_BLUE_SHULKER_BOX:
-        case YELLOW_SHULKER_BOX:
-        case LIME_SHULKER_BOX:
-        case PINK_SHULKER_BOX:
-        case GRAY_SHULKER_BOX:
-        case LIGHT_GRAY_SHULKER_BOX:
-        case CYAN_SHULKER_BOX:
-        case PURPLE_SHULKER_BOX:
-        case BLUE_SHULKER_BOX:
-        case BROWN_SHULKER_BOX:
-        case GREEN_SHULKER_BOX:
-        case RED_SHULKER_BOX:
-        case BLACK_SHULKER_BOX:
+        case "SHULKER_BOX":
+        case "WHITE_SHULKER_BOX":
+        case "ORANGE_SHULKER_BOX":
+        case "MAGENTA_SHULKER_BOX":
+        case "LIGHT_BLUE_SHULKER_BOX":
+        case "YELLOW_SHULKER_BOX":
+        case "LIME_SHULKER_BOX":
+        case "PINK_SHULKER_BOX":
+        case "GRAY_SHULKER_BOX":
+        case "LIGHT_GRAY_SHULKER_BOX":
+        case "CYAN_SHULKER_BOX":
+        case "PURPLE_SHULKER_BOX":
+        case "BLUE_SHULKER_BOX":
+        case "BROWN_SHULKER_BOX":
+        case "GREEN_SHULKER_BOX":
+        case "RED_SHULKER_BOX":
+        case "BLACK_SHULKER_BOX":
             return new CraftShulkerBox(this);
-        case ENCHANTING_TABLE:
+        case "ENCHANTING_TABLE":
             return new CraftEnchantingTable(this);
-        case ENDER_CHEST:
+        case "ENDER_CHEST":
             return new CraftEnderChest(this);
-        case DAYLIGHT_DETECTOR:
+        case "DAYLIGHT_DETECTOR":
             return new CraftDaylightDetector(this);
-        case COMPARATOR:
+        case "COMPARATOR":
             return new CraftComparator(this);
-        case BLACK_BED:
-        case BLUE_BED:
-        case BROWN_BED:
-        case CYAN_BED:
-        case GRAY_BED:
-        case GREEN_BED:
-        case LIGHT_BLUE_BED:
-        case LIGHT_GRAY_BED:
-        case LIME_BED:
-        case MAGENTA_BED:
-        case ORANGE_BED:
-        case PINK_BED:
-        case PURPLE_BED:
-        case RED_BED:
-        case WHITE_BED:
-        case YELLOW_BED:
+        case "BLACK_BED":
+        case "BLUE_BED":
+        case "BROWN_BED":
+        case "CYAN_BED":
+        case "GRAY_BED":
+        case "GREEN_BED":
+        case "LIGHT_BLUE_BED":
+        case "LIGHT_GRAY_BED":
+        case "LIME_BED":
+        case "MAGENTA_BED":
+        case "ORANGE_BED":
+        case "PINK_BED":
+        case "PURPLE_BED":
+        case "RED_BED":
+        case "WHITE_BED":
+        case "YELLOW_BED":
             return new CraftBed(this);
-        case CONDUIT:
+        case "CONDUIT":
             return new CraftConduit(this);
-        case BARREL:
+        case "BARREL":
             return new CraftBarrel(this);
-        case BELL:
+        case "BELL":
             return new CraftBell(this);
-        case BLAST_FURNACE:
+        case "BLAST_FURNACE":
             return new CraftBlastFurnace(this);
-        case CAMPFIRE:
+        case "CAMPFIRE":
             return new CraftCampfire(this);
-        case JIGSAW:
+        case "JIGSAW":
             return new CraftJigsaw(this);
-        case LECTERN:
+        case "LECTERN":
             return new CraftLectern(this);
-        case SMOKER:
+        case "SMOKER":
             return new CraftSmoker(this);
         default:
             TileEntity tileEntity = world.getTileEntity(position);
diff --git a/src/main/java/org/bukkit/craftbukkit/block/CraftSkull.java b/src/main/java/org/bukkit/craftbukkit/block/CraftSkull.java
index 2dd2f476f..c7f46082e 100644
--- a/src/main/java/org/bukkit/craftbukkit/block/CraftSkull.java
+++ b/src/main/java/org/bukkit/craftbukkit/block/CraftSkull.java
@@ -141,24 +141,24 @@ public class CraftSkull extends CraftBlockEntityState<TileEntitySkull> implement
 
     @Override
     public SkullType getSkullType() {
-        switch (getType()) {
-            case SKELETON_SKULL:
-            case SKELETON_WALL_SKULL:
+        switch (getType().name()) {
+            case "SKELETON_SKULL":
+            case "SKELETON_WALL_SKULL":
                 return SkullType.SKELETON;
-            case WITHER_SKELETON_SKULL:
-            case WITHER_SKELETON_WALL_SKULL:
+            case "WITHER_SKELETON_SKULL":
+            case "WITHER_SKELETON_WALL_SKULL":
                 return SkullType.WITHER;
-            case ZOMBIE_HEAD:
-            case ZOMBIE_WALL_HEAD:
+            case "ZOMBIE_HEAD":
+            case "ZOMBIE_WALL_HEAD":
                 return SkullType.ZOMBIE;
-            case PLAYER_HEAD:
-            case PLAYER_WALL_HEAD:
+            case "PLAYER_HEAD":
+            case "PLAYER_WALL_HEAD":
                 return SkullType.PLAYER;
-            case CREEPER_HEAD:
-            case CREEPER_WALL_HEAD:
+            case "CREEPER_HEAD":
+            case "CREEPER_WALL_HEAD":
                 return SkullType.CREEPER;
-            case DRAGON_HEAD:
-            case DRAGON_WALL_HEAD:
+            case "DRAGON_HEAD":
+            case "DRAGON_WALL_HEAD":
                 return SkullType.DRAGON;
             default:
                 throw new IllegalArgumentException("Unknown SkullType for " + getType());
diff --git a/src/main/java/org/bukkit/craftbukkit/event/CraftEventFactory.java b/src/main/java/org/bukkit/craftbukkit/event/CraftEventFactory.java
index dc15703fd..d476e1878 100644
--- a/src/main/java/org/bukkit/craftbukkit/event/CraftEventFactory.java
+++ b/src/main/java/org/bukkit/craftbukkit/event/CraftEventFactory.java
@@ -1291,14 +1291,14 @@ public class CraftEventFactory {
         org.bukkit.World bukkitWorld = world.getWorld();
         Block igniter = bukkitWorld.getBlockAt(source.getX(), source.getY(), source.getZ());
         IgniteCause cause;
-        switch (igniter.getType()) {
-            case LAVA:
+        switch (igniter.getType().name()) {
+            case "LAVA":
                 cause = IgniteCause.LAVA;
                 break;
-            case DISPENSER:
+            case "DISPENSER":
                 cause = IgniteCause.FLINT_AND_STEEL;
                 break;
-            case FIRE: // Fire or any other unknown block counts as SPREAD.
+            case "FIRE": // Fire or any other unknown block counts as SPREAD.
             default:
                 cause = IgniteCause.SPREAD;
         }
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftItemFactory.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftItemFactory.java
index 3cddf254a..d84a7ff15 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftItemFactory.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftItemFactory.java
@@ -68,202 +68,202 @@ public final class CraftItemFactory implements ItemFactory {
 
     private ItemMeta getItemMeta(Material material, CraftMetaItem meta) {
         material = CraftLegacy.fromLegacy(material); // This may be called from legacy item stacks, try to get the right material
-        switch (material) {
-        case AIR:
+        switch (material.name()) {
+        case "AIR":
             return null;
-        case WRITTEN_BOOK:
+        case "WRITTEN_BOOK":
             return meta instanceof CraftMetaBookSigned ? meta : new CraftMetaBookSigned(meta);
-        case WRITABLE_BOOK:
+        case "WRITABLE_BOOK":
             return meta != null && meta.getClass().equals(CraftMetaBook.class) ? meta : new CraftMetaBook(meta);
-        case CREEPER_HEAD:
-        case CREEPER_WALL_HEAD:
-        case DRAGON_HEAD:
-        case DRAGON_WALL_HEAD:
-        case PLAYER_HEAD:
-        case PLAYER_WALL_HEAD:
-        case SKELETON_SKULL:
-        case SKELETON_WALL_SKULL:
-        case WITHER_SKELETON_SKULL:
-        case WITHER_SKELETON_WALL_SKULL:
-        case ZOMBIE_HEAD:
-        case ZOMBIE_WALL_HEAD:
+        case "CREEPER_HEAD":
+        case "CREEPER_WALL_HEAD":
+        case "DRAGON_HEAD":
+        case "DRAGON_WALL_HEAD":
+        case "PLAYER_HEAD":
+        case "PLAYER_WALL_HEAD":
+        case "SKELETON_SKULL":
+        case "SKELETON_WALL_SKULL":
+        case "WITHER_SKELETON_SKULL":
+        case "WITHER_SKELETON_WALL_SKULL":
+        case "ZOMBIE_HEAD":
+        case "ZOMBIE_WALL_HEAD":
             return meta instanceof CraftMetaSkull ? meta : new CraftMetaSkull(meta);
-        case LEATHER_HELMET:
-        case LEATHER_HORSE_ARMOR:
-        case LEATHER_CHESTPLATE:
-        case LEATHER_LEGGINGS:
-        case LEATHER_BOOTS:
+        case "LEATHER_HELMET":
+        case "LEATHER_HORSE_ARMOR":
+        case "LEATHER_CHESTPLATE":
+        case "LEATHER_LEGGINGS":
+        case "LEATHER_BOOTS":
             return meta instanceof CraftMetaLeatherArmor ? meta : new CraftMetaLeatherArmor(meta);
-        case POTION:
-        case SPLASH_POTION:
-        case LINGERING_POTION:
-        case TIPPED_ARROW:
+        case "POTION":
+        case "SPLASH_POTION":
+        case "LINGERING_POTION":
+        case "TIPPED_ARROW":
             return meta instanceof CraftMetaPotion ? meta : new CraftMetaPotion(meta);
-        case FILLED_MAP:
+        case "FILLED_MAP":
             return meta instanceof CraftMetaMap ? meta : new CraftMetaMap(meta);
-        case FIREWORK_ROCKET:
+        case "FIREWORK_ROCKET":
             return meta instanceof CraftMetaFirework ? meta : new CraftMetaFirework(meta);
-        case FIREWORK_STAR:
+        case "FIREWORK_STAR":
             return meta instanceof CraftMetaCharge ? meta : new CraftMetaCharge(meta);
-        case ENCHANTED_BOOK:
+        case "ENCHANTED_BOOK":
             return meta instanceof CraftMetaEnchantedBook ? meta : new CraftMetaEnchantedBook(meta);
-        case BLACK_BANNER:
-        case BLACK_WALL_BANNER:
-        case BLUE_BANNER:
-        case BLUE_WALL_BANNER:
-        case BROWN_BANNER:
-        case BROWN_WALL_BANNER:
-        case CYAN_BANNER:
-        case CYAN_WALL_BANNER:
-        case GRAY_BANNER:
-        case GRAY_WALL_BANNER:
-        case GREEN_BANNER:
-        case GREEN_WALL_BANNER:
-        case LIGHT_BLUE_BANNER:
-        case LIGHT_BLUE_WALL_BANNER:
-        case LIGHT_GRAY_BANNER:
-        case LIGHT_GRAY_WALL_BANNER:
-        case LIME_BANNER:
-        case LIME_WALL_BANNER:
-        case MAGENTA_BANNER:
-        case MAGENTA_WALL_BANNER:
-        case ORANGE_BANNER:
-        case ORANGE_WALL_BANNER:
-        case PINK_BANNER:
-        case PINK_WALL_BANNER:
-        case PURPLE_BANNER:
-        case PURPLE_WALL_BANNER:
-        case RED_BANNER:
-        case RED_WALL_BANNER:
-        case WHITE_BANNER:
-        case WHITE_WALL_BANNER:
-        case YELLOW_BANNER:
-        case YELLOW_WALL_BANNER:
+        case "BLACK_BANNER":
+        case "BLACK_WALL_BANNER":
+        case "BLUE_BANNER":
+        case "BLUE_WALL_BANNER":
+        case "BROWN_BANNER":
+        case "BROWN_WALL_BANNER":
+        case "CYAN_BANNER":
+        case "CYAN_WALL_BANNER":
+        case "GRAY_BANNER":
+        case "GRAY_WALL_BANNER":
+        case "GREEN_BANNER":
+        case "GREEN_WALL_BANNER":
+        case "LIGHT_BLUE_BANNER":
+        case "LIGHT_BLUE_WALL_BANNER":
+        case "LIGHT_GRAY_BANNER":
+        case "LIGHT_GRAY_WALL_BANNER":
+        case "LIME_BANNER":
+        case "LIME_WALL_BANNER":
+        case "MAGENTA_BANNER":
+        case "MAGENTA_WALL_BANNER":
+        case "ORANGE_BANNER":
+        case "ORANGE_WALL_BANNER":
+        case "PINK_BANNER":
+        case "PINK_WALL_BANNER":
+        case "PURPLE_BANNER":
+        case "PURPLE_WALL_BANNER":
+        case "RED_BANNER":
+        case "RED_WALL_BANNER":
+        case "WHITE_BANNER":
+        case "WHITE_WALL_BANNER":
+        case "YELLOW_BANNER":
+        case "YELLOW_WALL_BANNER":
             return meta instanceof CraftMetaBanner ? meta : new CraftMetaBanner(meta);
-        case BAT_SPAWN_EGG:
-        case BLAZE_SPAWN_EGG:
-        case CAT_SPAWN_EGG:
-        case CAVE_SPIDER_SPAWN_EGG:
-        case CHICKEN_SPAWN_EGG:
-        case COD_SPAWN_EGG:
-        case COW_SPAWN_EGG:
-        case CREEPER_SPAWN_EGG:
-        case DOLPHIN_SPAWN_EGG:
-        case DONKEY_SPAWN_EGG:
-        case DROWNED_SPAWN_EGG:
-        case ELDER_GUARDIAN_SPAWN_EGG:
-        case ENDERMAN_SPAWN_EGG:
-        case ENDERMITE_SPAWN_EGG:
-        case EVOKER_SPAWN_EGG:
-        case FOX_SPAWN_EGG:
-        case GHAST_SPAWN_EGG:
-        case GUARDIAN_SPAWN_EGG:
-        case HORSE_SPAWN_EGG:
-        case HUSK_SPAWN_EGG:
-        case LLAMA_SPAWN_EGG:
-        case MAGMA_CUBE_SPAWN_EGG:
-        case MOOSHROOM_SPAWN_EGG:
-        case MULE_SPAWN_EGG:
-        case OCELOT_SPAWN_EGG:
-        case PANDA_SPAWN_EGG:
-        case PARROT_SPAWN_EGG:
-        case PHANTOM_SPAWN_EGG:
-        case PIG_SPAWN_EGG:
-        case PILLAGER_SPAWN_EGG:
-        case POLAR_BEAR_SPAWN_EGG:
-        case PUFFERFISH_SPAWN_EGG:
-        case RABBIT_SPAWN_EGG:
-        case RAVAGER_SPAWN_EGG:
-        case SALMON_SPAWN_EGG:
-        case SHEEP_SPAWN_EGG:
-        case SHULKER_SPAWN_EGG:
-        case SILVERFISH_SPAWN_EGG:
-        case SKELETON_HORSE_SPAWN_EGG:
-        case SKELETON_SPAWN_EGG:
-        case SLIME_SPAWN_EGG:
-        case SPIDER_SPAWN_EGG:
-        case SQUID_SPAWN_EGG:
-        case STRAY_SPAWN_EGG:
-        case TRADER_LLAMA_SPAWN_EGG:
-        case TROPICAL_FISH_SPAWN_EGG:
-        case TURTLE_SPAWN_EGG:
-        case VEX_SPAWN_EGG:
-        case VILLAGER_SPAWN_EGG:
-        case VINDICATOR_SPAWN_EGG:
-        case WANDERING_TRADER_SPAWN_EGG:
-        case WITCH_SPAWN_EGG:
-        case WITHER_SKELETON_SPAWN_EGG:
-        case WOLF_SPAWN_EGG:
-        case ZOMBIE_HORSE_SPAWN_EGG:
-        case ZOMBIE_PIGMAN_SPAWN_EGG:
-        case ZOMBIE_SPAWN_EGG:
-        case ZOMBIE_VILLAGER_SPAWN_EGG:
+        case "BAT_SPAWN_EGG":
+        case "BLAZE_SPAWN_EGG":
+        case "CAT_SPAWN_EGG":
+        case "CAVE_SPIDER_SPAWN_EGG":
+        case "CHICKEN_SPAWN_EGG":
+        case "COD_SPAWN_EGG":
+        case "COW_SPAWN_EGG":
+        case "CREEPER_SPAWN_EGG":
+        case "DOLPHIN_SPAWN_EGG":
+        case "DONKEY_SPAWN_EGG":
+        case "DROWNED_SPAWN_EGG":
+        case "ELDER_GUARDIAN_SPAWN_EGG":
+        case "ENDERMAN_SPAWN_EGG":
+        case "ENDERMITE_SPAWN_EGG":
+        case "EVOKER_SPAWN_EGG":
+        case "FOX_SPAWN_EGG":
+        case "GHAST_SPAWN_EGG":
+        case "GUARDIAN_SPAWN_EGG":
+        case "HORSE_SPAWN_EGG":
+        case "HUSK_SPAWN_EGG":
+        case "LLAMA_SPAWN_EGG":
+        case "MAGMA_CUBE_SPAWN_EGG":
+        case "MOOSHROOM_SPAWN_EGG":
+        case "MULE_SPAWN_EGG":
+        case "OCELOT_SPAWN_EGG":
+        case "PANDA_SPAWN_EGG":
+        case "PARROT_SPAWN_EGG":
+        case "PHANTOM_SPAWN_EGG":
+        case "PIG_SPAWN_EGG":
+        case "PILLAGER_SPAWN_EGG":
+        case "POLAR_BEAR_SPAWN_EGG":
+        case "PUFFERFISH_SPAWN_EGG":
+        case "RABBIT_SPAWN_EGG":
+        case "RAVAGER_SPAWN_EGG":
+        case "SALMON_SPAWN_EGG":
+        case "SHEEP_SPAWN_EGG":
+        case "SHULKER_SPAWN_EGG":
+        case "SILVERFISH_SPAWN_EGG":
+        case "SKELETON_HORSE_SPAWN_EGG":
+        case "SKELETON_SPAWN_EGG":
+        case "SLIME_SPAWN_EGG":
+        case "SPIDER_SPAWN_EGG":
+        case "SQUID_SPAWN_EGG":
+        case "STRAY_SPAWN_EGG":
+        case "TRADER_LLAMA_SPAWN_EGG":
+        case "TROPICAL_FISH_SPAWN_EGG":
+        case "TURTLE_SPAWN_EGG":
+        case "VEX_SPAWN_EGG":
+        case "VILLAGER_SPAWN_EGG":
+        case "VINDICATOR_SPAWN_EGG":
+        case "WANDERING_TRADER_SPAWN_EGG":
+        case "WITCH_SPAWN_EGG":
+        case "WITHER_SKELETON_SPAWN_EGG":
+        case "WOLF_SPAWN_EGG":
+        case "ZOMBIE_HORSE_SPAWN_EGG":
+        case "ZOMBIE_PIGMAN_SPAWN_EGG":
+        case "ZOMBIE_SPAWN_EGG":
+        case "ZOMBIE_VILLAGER_SPAWN_EGG":
             return meta instanceof CraftMetaSpawnEgg ? meta : new CraftMetaSpawnEgg(meta);
-        case ARMOR_STAND:
+        case "ARMOR_STAND":
             return meta instanceof CraftMetaArmorStand ? meta : new CraftMetaArmorStand(meta);
-        case KNOWLEDGE_BOOK:
+        case "KNOWLEDGE_BOOK":
             return meta instanceof CraftMetaKnowledgeBook ? meta : new CraftMetaKnowledgeBook(meta);
-        case FURNACE:
-        case CHEST:
-        case TRAPPED_CHEST:
-        case JUKEBOX:
-        case DISPENSER:
-        case DROPPER:
-        case ACACIA_SIGN:
-        case ACACIA_WALL_SIGN:
-        case BIRCH_SIGN:
-        case BIRCH_WALL_SIGN:
-        case DARK_OAK_SIGN:
-        case DARK_OAK_WALL_SIGN:
-        case JUNGLE_SIGN:
-        case JUNGLE_WALL_SIGN:
-        case OAK_SIGN:
-        case OAK_WALL_SIGN:
-        case SPRUCE_SIGN:
-        case SPRUCE_WALL_SIGN:
-        case SPAWNER:
-        case BREWING_STAND:
-        case ENCHANTING_TABLE:
-        case COMMAND_BLOCK:
-        case REPEATING_COMMAND_BLOCK:
-        case CHAIN_COMMAND_BLOCK:
-        case BEACON:
-        case DAYLIGHT_DETECTOR:
-        case HOPPER:
-        case COMPARATOR:
-        case SHIELD:
-        case STRUCTURE_BLOCK:
-        case SHULKER_BOX:
-        case WHITE_SHULKER_BOX:
-        case ORANGE_SHULKER_BOX:
-        case MAGENTA_SHULKER_BOX:
-        case LIGHT_BLUE_SHULKER_BOX:
-        case YELLOW_SHULKER_BOX:
-        case LIME_SHULKER_BOX:
-        case PINK_SHULKER_BOX:
-        case GRAY_SHULKER_BOX:
-        case LIGHT_GRAY_SHULKER_BOX:
-        case CYAN_SHULKER_BOX:
-        case PURPLE_SHULKER_BOX:
-        case BLUE_SHULKER_BOX:
-        case BROWN_SHULKER_BOX:
-        case GREEN_SHULKER_BOX:
-        case RED_SHULKER_BOX:
-        case BLACK_SHULKER_BOX:
-        case ENDER_CHEST:
-        case BARREL:
-        case BELL:
-        case BLAST_FURNACE:
-        case CAMPFIRE:
-        case JIGSAW:
-        case LECTERN:
-        case SMOKER:
+        case "FURNACE":
+        case "CHEST":
+        case "TRAPPED_CHEST":
+        case "JUKEBOX":
+        case "DISPENSER":
+        case "DROPPER":
+        case "ACACIA_SIGN":
+        case "ACACIA_WALL_SIGN":
+        case "BIRCH_SIGN":
+        case "BIRCH_WALL_SIGN":
+        case "DARK_OAK_SIGN":
+        case "DARK_OAK_WALL_SIGN":
+        case "JUNGLE_SIGN":
+        case "JUNGLE_WALL_SIGN":
+        case "OAK_SIGN":
+        case "OAK_WALL_SIGN":
+        case "SPRUCE_SIGN":
+        case "SPRUCE_WALL_SIGN":
+        case "SPAWNER":
+        case "BREWING_STAND":
+        case "ENCHANTING_TABLE":
+        case "COMMAND_BLOCK":
+        case "REPEATING_COMMAND_BLOCK":
+        case "CHAIN_COMMAND_BLOCK":
+        case "BEACON":
+        case "DAYLIGHT_DETECTOR":
+        case "HOPPER":
+        case "COMPARATOR":
+        case "SHIELD":
+        case "STRUCTURE_BLOCK":
+        case "SHULKER_BOX":
+        case "WHITE_SHULKER_BOX":
+        case "ORANGE_SHULKER_BOX":
+        case "MAGENTA_SHULKER_BOX":
+        case "LIGHT_BLUE_SHULKER_BOX":
+        case "YELLOW_SHULKER_BOX":
+        case "LIME_SHULKER_BOX":
+        case "PINK_SHULKER_BOX":
+        case "GRAY_SHULKER_BOX":
+        case "LIGHT_GRAY_SHULKER_BOX":
+        case "CYAN_SHULKER_BOX":
+        case "PURPLE_SHULKER_BOX":
+        case "BLUE_SHULKER_BOX":
+        case "BROWN_SHULKER_BOX":
+        case "GREEN_SHULKER_BOX":
+        case "RED_SHULKER_BOX":
+        case "BLACK_SHULKER_BOX":
+        case "ENDER_CHEST":
+        case "BARREL":
+        case "BELL":
+        case "BLAST_FURNACE":
+        case "CAMPFIRE":
+        case "JIGSAW":
+        case "LECTERN":
+        case "SMOKER":
           return new CraftMetaBlockState(meta, material);
-        case TROPICAL_FISH_BUCKET:
+        case "TROPICAL_FISH_BUCKET":
             return meta instanceof CraftMetaTropicalFishBucket ? meta : new CraftMetaTropicalFishBucket(meta);
-        case CROSSBOW:
+        case "CROSSBOW":
             return meta instanceof CraftMetaCrossbow ? meta : new CraftMetaCrossbow(meta);
-        case SUSPICIOUS_STEW:
+        case "SUSPICIOUS_STEW":
             return meta instanceof CraftMetaSuspiciousStew ? meta : new CraftMetaSuspiciousStew(meta);
         default:
             return new CraftMetaItem(meta);
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftItemStack.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftItemStack.java
index b1ea5b93d..dd1f2ecd5 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftItemStack.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftItemStack.java
@@ -278,200 +278,200 @@ public final class CraftItemStack extends ItemStack {
         if (!hasItemMeta(item)) {
             return CraftItemFactory.instance().getItemMeta(getType(item));
         }
-        switch (getType(item)) {
-            case WRITTEN_BOOK:
+        switch (getType(item).name()) {
+            case "WRITTEN_BOOK":
                 return new CraftMetaBookSigned(item.getTag());
-            case WRITABLE_BOOK:
+            case "WRITABLE_BOOK":
                 return new CraftMetaBook(item.getTag());
-            case CREEPER_HEAD:
-            case CREEPER_WALL_HEAD:
-            case DRAGON_HEAD:
-            case DRAGON_WALL_HEAD:
-            case PLAYER_HEAD:
-            case PLAYER_WALL_HEAD:
-            case SKELETON_SKULL:
-            case SKELETON_WALL_SKULL:
-            case WITHER_SKELETON_SKULL:
-            case WITHER_SKELETON_WALL_SKULL:
-            case ZOMBIE_HEAD:
-            case ZOMBIE_WALL_HEAD:
+            case "CREEPER_HEAD":
+            case "CREEPER_WALL_HEAD":
+            case "DRAGON_HEAD":
+            case "DRAGON_WALL_HEAD":
+            case "PLAYER_HEAD":
+            case "PLAYER_WALL_HEAD":
+            case "SKELETON_SKULL":
+            case "SKELETON_WALL_SKULL":
+            case "WITHER_SKELETON_SKULL":
+            case "WITHER_SKELETON_WALL_SKULL":
+            case "ZOMBIE_HEAD":
+            case "ZOMBIE_WALL_HEAD":
                 return new CraftMetaSkull(item.getTag());
-            case LEATHER_HELMET:
-            case LEATHER_HORSE_ARMOR:
-            case LEATHER_CHESTPLATE:
-            case LEATHER_LEGGINGS:
-            case LEATHER_BOOTS:
+            case "LEATHER_HELMET":
+            case "LEATHER_HORSE_ARMOR":
+            case "LEATHER_CHESTPLATE":
+            case "LEATHER_LEGGINGS":
+            case "LEATHER_BOOTS":
                 return new CraftMetaLeatherArmor(item.getTag());
-            case POTION:
-            case SPLASH_POTION:
-            case LINGERING_POTION:
-            case TIPPED_ARROW:
+            case "POTION":
+            case "SPLASH_POTION":
+            case "LINGERING_POTION":
+            case "TIPPED_ARROW":
                 return new CraftMetaPotion(item.getTag());
-            case FILLED_MAP:
+            case "FILLED_MAP":
                 return new CraftMetaMap(item.getTag());
-            case FIREWORK_ROCKET:
+            case "FIREWORK_ROCKET":
                 return new CraftMetaFirework(item.getTag());
-            case FIREWORK_STAR:
+            case "FIREWORK_STAR":
                 return new CraftMetaCharge(item.getTag());
-            case ENCHANTED_BOOK:
+            case "ENCHANTED_BOOK":
                 return new CraftMetaEnchantedBook(item.getTag());
-            case BLACK_BANNER:
-            case BLACK_WALL_BANNER:
-            case BLUE_BANNER:
-            case BLUE_WALL_BANNER:
-            case BROWN_BANNER:
-            case BROWN_WALL_BANNER:
-            case CYAN_BANNER:
-            case CYAN_WALL_BANNER:
-            case GRAY_BANNER:
-            case GRAY_WALL_BANNER:
-            case GREEN_BANNER:
-            case GREEN_WALL_BANNER:
-            case LIGHT_BLUE_BANNER:
-            case LIGHT_BLUE_WALL_BANNER:
-            case LIGHT_GRAY_BANNER:
-            case LIGHT_GRAY_WALL_BANNER:
-            case LIME_BANNER:
-            case LIME_WALL_BANNER:
-            case MAGENTA_BANNER:
-            case MAGENTA_WALL_BANNER:
-            case ORANGE_BANNER:
-            case ORANGE_WALL_BANNER:
-            case PINK_BANNER:
-            case PINK_WALL_BANNER:
-            case PURPLE_BANNER:
-            case PURPLE_WALL_BANNER:
-            case RED_BANNER:
-            case RED_WALL_BANNER:
-            case WHITE_BANNER:
-            case WHITE_WALL_BANNER:
-            case YELLOW_BANNER:
-            case YELLOW_WALL_BANNER:
+            case "BLACK_BANNER":
+            case "BLACK_WALL_BANNER":
+            case "BLUE_BANNER":
+            case "BLUE_WALL_BANNER":
+            case "BROWN_BANNER":
+            case "BROWN_WALL_BANNER":
+            case "CYAN_BANNER":
+            case "CYAN_WALL_BANNER":
+            case "GRAY_BANNER":
+            case "GRAY_WALL_BANNER":
+            case "GREEN_BANNER":
+            case "GREEN_WALL_BANNER":
+            case "LIGHT_BLUE_BANNER":
+            case "LIGHT_BLUE_WALL_BANNER":
+            case "LIGHT_GRAY_BANNER":
+            case "LIGHT_GRAY_WALL_BANNER":
+            case "LIME_BANNER":
+            case "LIME_WALL_BANNER":
+            case "MAGENTA_BANNER":
+            case "MAGENTA_WALL_BANNER":
+            case "ORANGE_BANNER":
+            case "ORANGE_WALL_BANNER":
+            case "PINK_BANNER":
+            case "PINK_WALL_BANNER":
+            case "PURPLE_BANNER":
+            case "PURPLE_WALL_BANNER":
+            case "RED_BANNER":
+            case "RED_WALL_BANNER":
+            case "WHITE_BANNER":
+            case "WHITE_WALL_BANNER":
+            case "YELLOW_BANNER":
+            case "YELLOW_WALL_BANNER":
                 return new CraftMetaBanner(item.getTag());
-            case BAT_SPAWN_EGG:
-            case BLAZE_SPAWN_EGG:
-            case CAT_SPAWN_EGG:
-            case CAVE_SPIDER_SPAWN_EGG:
-            case CHICKEN_SPAWN_EGG:
-            case COD_SPAWN_EGG:
-            case COW_SPAWN_EGG:
-            case CREEPER_SPAWN_EGG:
-            case DOLPHIN_SPAWN_EGG:
-            case DONKEY_SPAWN_EGG:
-            case DROWNED_SPAWN_EGG:
-            case ELDER_GUARDIAN_SPAWN_EGG:
-            case ENDERMAN_SPAWN_EGG:
-            case ENDERMITE_SPAWN_EGG:
-            case EVOKER_SPAWN_EGG:
-            case FOX_SPAWN_EGG:
-            case GHAST_SPAWN_EGG:
-            case GUARDIAN_SPAWN_EGG:
-            case HORSE_SPAWN_EGG:
-            case HUSK_SPAWN_EGG:
-            case LLAMA_SPAWN_EGG:
-            case MAGMA_CUBE_SPAWN_EGG:
-            case MOOSHROOM_SPAWN_EGG:
-            case MULE_SPAWN_EGG:
-            case OCELOT_SPAWN_EGG:
-            case PANDA_SPAWN_EGG:
-            case PARROT_SPAWN_EGG:
-            case PHANTOM_SPAWN_EGG:
-            case PIG_SPAWN_EGG:
-            case PILLAGER_SPAWN_EGG:
-            case POLAR_BEAR_SPAWN_EGG:
-            case PUFFERFISH_SPAWN_EGG:
-            case RABBIT_SPAWN_EGG:
-            case RAVAGER_SPAWN_EGG:
-            case SALMON_SPAWN_EGG:
-            case SHEEP_SPAWN_EGG:
-            case SHULKER_SPAWN_EGG:
-            case SILVERFISH_SPAWN_EGG:
-            case SKELETON_HORSE_SPAWN_EGG:
-            case SKELETON_SPAWN_EGG:
-            case SLIME_SPAWN_EGG:
-            case SPIDER_SPAWN_EGG:
-            case SQUID_SPAWN_EGG:
-            case STRAY_SPAWN_EGG:
-            case TRADER_LLAMA_SPAWN_EGG:
-            case TROPICAL_FISH_SPAWN_EGG:
-            case TURTLE_SPAWN_EGG:
-            case VEX_SPAWN_EGG:
-            case VILLAGER_SPAWN_EGG:
-            case VINDICATOR_SPAWN_EGG:
-            case WANDERING_TRADER_SPAWN_EGG:
-            case WITCH_SPAWN_EGG:
-            case WITHER_SKELETON_SPAWN_EGG:
-            case WOLF_SPAWN_EGG:
-            case ZOMBIE_HORSE_SPAWN_EGG:
-            case ZOMBIE_PIGMAN_SPAWN_EGG:
-            case ZOMBIE_SPAWN_EGG:
-            case ZOMBIE_VILLAGER_SPAWN_EGG:
+            case "BAT_SPAWN_EGG":
+            case "BLAZE_SPAWN_EGG":
+            case "CAT_SPAWN_EGG":
+            case "CAVE_SPIDER_SPAWN_EGG":
+            case "CHICKEN_SPAWN_EGG":
+            case "COD_SPAWN_EGG":
+            case "COW_SPAWN_EGG":
+            case "CREEPER_SPAWN_EGG":
+            case "DOLPHIN_SPAWN_EGG":
+            case "DONKEY_SPAWN_EGG":
+            case "DROWNED_SPAWN_EGG":
+            case "ELDER_GUARDIAN_SPAWN_EGG":
+            case "ENDERMAN_SPAWN_EGG":
+            case "ENDERMITE_SPAWN_EGG":
+            case "EVOKER_SPAWN_EGG":
+            case "FOX_SPAWN_EGG":
+            case "GHAST_SPAWN_EGG":
+            case "GUARDIAN_SPAWN_EGG":
+            case "HORSE_SPAWN_EGG":
+            case "HUSK_SPAWN_EGG":
+            case "LLAMA_SPAWN_EGG":
+            case "MAGMA_CUBE_SPAWN_EGG":
+            case "MOOSHROOM_SPAWN_EGG":
+            case "MULE_SPAWN_EGG":
+            case "OCELOT_SPAWN_EGG":
+            case "PANDA_SPAWN_EGG":
+            case "PARROT_SPAWN_EGG":
+            case "PHANTOM_SPAWN_EGG":
+            case "PIG_SPAWN_EGG":
+            case "PILLAGER_SPAWN_EGG":
+            case "POLAR_BEAR_SPAWN_EGG":
+            case "PUFFERFISH_SPAWN_EGG":
+            case "RABBIT_SPAWN_EGG":
+            case "RAVAGER_SPAWN_EGG":
+            case "SALMON_SPAWN_EGG":
+            case "SHEEP_SPAWN_EGG":
+            case "SHULKER_SPAWN_EGG":
+            case "SILVERFISH_SPAWN_EGG":
+            case "SKELETON_HORSE_SPAWN_EGG":
+            case "SKELETON_SPAWN_EGG":
+            case "SLIME_SPAWN_EGG":
+            case "SPIDER_SPAWN_EGG":
+            case "SQUID_SPAWN_EGG":
+            case "STRAY_SPAWN_EGG":
+            case "TRADER_LLAMA_SPAWN_EGG":
+            case "TROPICAL_FISH_SPAWN_EGG":
+            case "TURTLE_SPAWN_EGG":
+            case "VEX_SPAWN_EGG":
+            case "VILLAGER_SPAWN_EGG":
+            case "VINDICATOR_SPAWN_EGG":
+            case "WANDERING_TRADER_SPAWN_EGG":
+            case "WITCH_SPAWN_EGG":
+            case "WITHER_SKELETON_SPAWN_EGG":
+            case "WOLF_SPAWN_EGG":
+            case "ZOMBIE_HORSE_SPAWN_EGG":
+            case "ZOMBIE_PIGMAN_SPAWN_EGG":
+            case "ZOMBIE_SPAWN_EGG":
+            case "ZOMBIE_VILLAGER_SPAWN_EGG":
                 return new CraftMetaSpawnEgg(item.getTag());
-            case ARMOR_STAND:
+            case "ARMOR_STAND":
                 return new CraftMetaArmorStand(item.getTag());
-            case KNOWLEDGE_BOOK:
+            case "KNOWLEDGE_BOOK":
                 return new CraftMetaKnowledgeBook(item.getTag());
-            case FURNACE:
-            case CHEST:
-            case TRAPPED_CHEST:
-            case JUKEBOX:
-            case DISPENSER:
-            case DROPPER:
-            case ACACIA_SIGN:
-            case ACACIA_WALL_SIGN:
-            case BIRCH_SIGN:
-            case BIRCH_WALL_SIGN:
-            case DARK_OAK_SIGN:
-            case DARK_OAK_WALL_SIGN:
-            case JUNGLE_SIGN:
-            case JUNGLE_WALL_SIGN:
-            case OAK_SIGN:
-            case OAK_WALL_SIGN:
-            case SPRUCE_SIGN:
-            case SPRUCE_WALL_SIGN:
-            case SPAWNER:
-            case BREWING_STAND:
-            case ENCHANTING_TABLE:
-            case COMMAND_BLOCK:
-            case REPEATING_COMMAND_BLOCK:
-            case CHAIN_COMMAND_BLOCK:
-            case BEACON:
-            case DAYLIGHT_DETECTOR:
-            case HOPPER:
-            case COMPARATOR:
-            case SHIELD:
-            case STRUCTURE_BLOCK:
-            case SHULKER_BOX:
-            case WHITE_SHULKER_BOX:
-            case ORANGE_SHULKER_BOX:
-            case MAGENTA_SHULKER_BOX:
-            case LIGHT_BLUE_SHULKER_BOX:
-            case YELLOW_SHULKER_BOX:
-            case LIME_SHULKER_BOX:
-            case PINK_SHULKER_BOX:
-            case GRAY_SHULKER_BOX:
-            case LIGHT_GRAY_SHULKER_BOX:
-            case CYAN_SHULKER_BOX:
-            case PURPLE_SHULKER_BOX:
-            case BLUE_SHULKER_BOX:
-            case BROWN_SHULKER_BOX:
-            case GREEN_SHULKER_BOX:
-            case RED_SHULKER_BOX:
-            case BLACK_SHULKER_BOX:
-            case ENDER_CHEST:
-            case BARREL:
-            case BELL:
-            case BLAST_FURNACE:
-            case CAMPFIRE:
-            case JIGSAW:
-            case LECTERN:
-            case SMOKER:
+            case "FURNACE":
+            case "CHEST":
+            case "TRAPPED_CHEST":
+            case "JUKEBOX":
+            case "DISPENSER":
+            case "DROPPER":
+            case "ACACIA_SIGN":
+            case "ACACIA_WALL_SIGN":
+            case "BIRCH_SIGN":
+            case "BIRCH_WALL_SIGN":
+            case "DARK_OAK_SIGN":
+            case "DARK_OAK_WALL_SIGN":
+            case "JUNGLE_SIGN":
+            case "JUNGLE_WALL_SIGN":
+            case "OAK_SIGN":
+            case "OAK_WALL_SIGN":
+            case "SPRUCE_SIGN":
+            case "SPRUCE_WALL_SIGN":
+            case "SPAWNER":
+            case "BREWING_STAND":
+            case "ENCHANTING_TABLE":
+            case "COMMAND_BLOCK":
+            case "REPEATING_COMMAND_BLOCK":
+            case "CHAIN_COMMAND_BLOCK":
+            case "BEACON":
+            case "DAYLIGHT_DETECTOR":
+            case "HOPPER":
+            case "COMPARATOR":
+            case "SHIELD":
+            case "STRUCTURE_BLOCK":
+            case "SHULKER_BOX":
+            case "WHITE_SHULKER_BOX":
+            case "ORANGE_SHULKER_BOX":
+            case "MAGENTA_SHULKER_BOX":
+            case "LIGHT_BLUE_SHULKER_BOX":
+            case "YELLOW_SHULKER_BOX":
+            case "LIME_SHULKER_BOX":
+            case "PINK_SHULKER_BOX":
+            case "GRAY_SHULKER_BOX":
+            case "LIGHT_GRAY_SHULKER_BOX":
+            case "CYAN_SHULKER_BOX":
+            case "PURPLE_SHULKER_BOX":
+            case "BLUE_SHULKER_BOX":
+            case "BROWN_SHULKER_BOX":
+            case "GREEN_SHULKER_BOX":
+            case "RED_SHULKER_BOX":
+            case "BLACK_SHULKER_BOX":
+            case "ENDER_CHEST":
+            case "BARREL":
+            case "BELL":
+            case "BLAST_FURNACE":
+            case "CAMPFIRE":
+            case "JIGSAW":
+            case "LECTERN":
+            case "SMOKER":
                 return new CraftMetaBlockState(item.getTag(), CraftMagicNumbers.getMaterial(item.getItem()));
-            case TROPICAL_FISH_BUCKET:
+            case "TROPICAL_FISH_BUCKET":
                 return new CraftMetaTropicalFishBucket(item.getTag());
-            case CROSSBOW:
+            case "CROSSBOW":
                 return new CraftMetaCrossbow(item.getTag());
-            case SUSPICIOUS_STEW:
+            case "SUSPICIOUS_STEW":
                 return new CraftMetaSuspiciousStew(item.getTag());
             default:
                 return new CraftMetaItem(item.getTag());
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaArmorStand.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaArmorStand.java
index 3723facca..e2f90d0e7 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaArmorStand.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaArmorStand.java
@@ -144,8 +144,8 @@ public class CraftMetaArmorStand extends CraftMetaItem implements com.destroysto
 
     @Override
     boolean applicableTo(Material type) {
-        switch (type) {
-            case ARMOR_STAND:
+        switch (type.name()) {
+            case "ARMOR_STAND":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBanner.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBanner.java
index ffc246340..2f470ab97 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBanner.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBanner.java
@@ -205,39 +205,39 @@ public class CraftMetaBanner extends CraftMetaItem implements BannerMeta {
 
     @Override
     boolean applicableTo(Material type) {
-        switch (type) {
-            case BLACK_BANNER:
-            case BLACK_WALL_BANNER:
-            case BLUE_BANNER:
-            case BLUE_WALL_BANNER:
-            case BROWN_BANNER:
-            case BROWN_WALL_BANNER:
-            case CYAN_BANNER:
-            case CYAN_WALL_BANNER:
-            case GRAY_BANNER:
-            case GRAY_WALL_BANNER:
-            case GREEN_BANNER:
-            case GREEN_WALL_BANNER:
-            case LIGHT_BLUE_BANNER:
-            case LIGHT_BLUE_WALL_BANNER:
-            case LIGHT_GRAY_BANNER:
-            case LIGHT_GRAY_WALL_BANNER:
-            case LIME_BANNER:
-            case LIME_WALL_BANNER:
-            case MAGENTA_BANNER:
-            case MAGENTA_WALL_BANNER:
-            case ORANGE_BANNER:
-            case ORANGE_WALL_BANNER:
-            case PINK_BANNER:
-            case PINK_WALL_BANNER:
-            case PURPLE_BANNER:
-            case PURPLE_WALL_BANNER:
-            case RED_BANNER:
-            case RED_WALL_BANNER:
-            case WHITE_BANNER:
-            case WHITE_WALL_BANNER:
-            case YELLOW_BANNER:
-            case YELLOW_WALL_BANNER:
+        switch (type.name()) {
+            case "BLACK_BANNER":
+            case "BLACK_WALL_BANNER":
+            case "BLUE_BANNER":
+            case "BLUE_WALL_BANNER":
+            case "BROWN_BANNER":
+            case "BROWN_WALL_BANNER":
+            case "CYAN_BANNER":
+            case "CYAN_WALL_BANNER":
+            case "GRAY_BANNER":
+            case "GRAY_WALL_BANNER":
+            case "GREEN_BANNER":
+            case "GREEN_WALL_BANNER":
+            case "LIGHT_BLUE_BANNER":
+            case "LIGHT_BLUE_WALL_BANNER":
+            case "LIGHT_GRAY_BANNER":
+            case "LIGHT_GRAY_WALL_BANNER":
+            case "LIME_BANNER":
+            case "LIME_WALL_BANNER":
+            case "MAGENTA_BANNER":
+            case "MAGENTA_WALL_BANNER":
+            case "ORANGE_BANNER":
+            case "ORANGE_WALL_BANNER":
+            case "PINK_BANNER":
+            case "PINK_WALL_BANNER":
+            case "PURPLE_BANNER":
+            case "PURPLE_WALL_BANNER":
+            case "RED_BANNER":
+            case "RED_WALL_BANNER":
+            case "WHITE_BANNER":
+            case "WHITE_WALL_BANNER":
+            case "YELLOW_BANNER":
+            case "YELLOW_WALL_BANNER":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBlockState.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBlockState.java
index 1529f30f7..3b78b377e 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBlockState.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBlockState.java
@@ -182,62 +182,62 @@ public class CraftMetaBlockState extends CraftMetaItem implements BlockStateMeta
 
     @Override
     boolean applicableTo(Material type) {
-        switch(type){
-            case FURNACE:
-            case CHEST:
-            case TRAPPED_CHEST:
-            case JUKEBOX:
-            case DISPENSER:
-            case DROPPER:
-            case ACACIA_SIGN:
-            case ACACIA_WALL_SIGN:
-            case BIRCH_SIGN:
-            case BIRCH_WALL_SIGN:
-            case DARK_OAK_SIGN:
-            case DARK_OAK_WALL_SIGN:
-            case JUNGLE_SIGN:
-            case JUNGLE_WALL_SIGN:
-            case OAK_SIGN:
-            case OAK_WALL_SIGN:
-            case SPRUCE_SIGN:
-            case SPRUCE_WALL_SIGN:
-            case SPAWNER:
-            case BREWING_STAND:
-            case ENCHANTING_TABLE:
-            case COMMAND_BLOCK:
-            case REPEATING_COMMAND_BLOCK:
-            case CHAIN_COMMAND_BLOCK:
-            case BEACON:
-            case DAYLIGHT_DETECTOR:
-            case HOPPER:
-            case COMPARATOR:
-            case SHIELD:
-            case STRUCTURE_BLOCK:
-            case SHULKER_BOX:
-            case WHITE_SHULKER_BOX:
-            case ORANGE_SHULKER_BOX:
-            case MAGENTA_SHULKER_BOX:
-            case LIGHT_BLUE_SHULKER_BOX:
-            case YELLOW_SHULKER_BOX:
-            case LIME_SHULKER_BOX:
-            case PINK_SHULKER_BOX:
-            case GRAY_SHULKER_BOX:
-            case LIGHT_GRAY_SHULKER_BOX:
-            case CYAN_SHULKER_BOX:
-            case PURPLE_SHULKER_BOX:
-            case BLUE_SHULKER_BOX:
-            case BROWN_SHULKER_BOX:
-            case GREEN_SHULKER_BOX:
-            case RED_SHULKER_BOX:
-            case BLACK_SHULKER_BOX:
-            case ENDER_CHEST:
-            case BARREL:
-            case BELL:
-            case BLAST_FURNACE:
-            case CAMPFIRE:
-            case JIGSAW:
-            case LECTERN:
-            case SMOKER:
+        switch(type.name()){
+            case "FURNACE":
+            case "CHEST":
+            case "TRAPPED_CHEST":
+            case "JUKEBOX":
+            case "DISPENSER":
+            case "DROPPER":
+            case "ACACIA_SIGN":
+            case "ACACIA_WALL_SIGN":
+            case "BIRCH_SIGN":
+            case "BIRCH_WALL_SIGN":
+            case "DARK_OAK_SIGN":
+            case "DARK_OAK_WALL_SIGN":
+            case "JUNGLE_SIGN":
+            case "JUNGLE_WALL_SIGN":
+            case "OAK_SIGN":
+            case "OAK_WALL_SIGN":
+            case "SPRUCE_SIGN":
+            case "SPRUCE_WALL_SIGN":
+            case "SPAWNER":
+            case "BREWING_STAND":
+            case "ENCHANTING_TABLE":
+            case "COMMAND_BLOCK":
+            case "REPEATING_COMMAND_BLOCK":
+            case "CHAIN_COMMAND_BLOCK":
+            case "BEACON":
+            case "DAYLIGHT_DETECTOR":
+            case "HOPPER":
+            case "COMPARATOR":
+            case "SHIELD":
+            case "STRUCTURE_BLOCK":
+            case "SHULKER_BOX":
+            case "WHITE_SHULKER_BOX":
+            case "ORANGE_SHULKER_BOX":
+            case "MAGENTA_SHULKER_BOX":
+            case "LIGHT_BLUE_SHULKER_BOX":
+            case "YELLOW_SHULKER_BOX":
+            case "LIME_SHULKER_BOX":
+            case "PINK_SHULKER_BOX":
+            case "GRAY_SHULKER_BOX":
+            case "LIGHT_GRAY_SHULKER_BOX":
+            case "CYAN_SHULKER_BOX":
+            case "PURPLE_SHULKER_BOX":
+            case "BLUE_SHULKER_BOX":
+            case "BROWN_SHULKER_BOX":
+            case "GREEN_SHULKER_BOX":
+            case "RED_SHULKER_BOX":
+            case "BLACK_SHULKER_BOX":
+            case "ENDER_CHEST":
+            case "BARREL":
+            case "BELL":
+            case "BLAST_FURNACE":
+            case "CAMPFIRE":
+            case "JIGSAW":
+            case "LECTERN":
+            case "SMOKER":
                 return true;
         }
         return false;
@@ -260,242 +260,242 @@ public class CraftMetaBlockState extends CraftMetaItem implements BlockStateMeta
     @Override
     public BlockState getBlockState() {
         if (blockEntityTag != null) {
-            switch (material) {
-                case SHIELD:
+            switch (material.name()) {
+                case "SHIELD":
                     blockEntityTag.setString("id", "banner");
                     break;
-                case SHULKER_BOX:
-                case WHITE_SHULKER_BOX:
-                case ORANGE_SHULKER_BOX:
-                case MAGENTA_SHULKER_BOX:
-                case LIGHT_BLUE_SHULKER_BOX:
-                case YELLOW_SHULKER_BOX:
-                case LIME_SHULKER_BOX:
-                case PINK_SHULKER_BOX:
-                case GRAY_SHULKER_BOX:
-                case LIGHT_GRAY_SHULKER_BOX:
-                case CYAN_SHULKER_BOX:
-                case PURPLE_SHULKER_BOX:
-                case BLUE_SHULKER_BOX:
-                case BROWN_SHULKER_BOX:
-                case GREEN_SHULKER_BOX:
-                case RED_SHULKER_BOX:
-                case BLACK_SHULKER_BOX:
+                case "SHULKER_BOX":
+                case "WHITE_SHULKER_BOX":
+                case "ORANGE_SHULKER_BOX":
+                case "MAGENTA_SHULKER_BOX":
+                case "LIGHT_BLUE_SHULKER_BOX":
+                case "YELLOW_SHULKER_BOX":
+                case "LIME_SHULKER_BOX":
+                case "PINK_SHULKER_BOX":
+                case "GRAY_SHULKER_BOX":
+                case "LIGHT_GRAY_SHULKER_BOX":
+                case "CYAN_SHULKER_BOX":
+                case "PURPLE_SHULKER_BOX":
+                case "BLUE_SHULKER_BOX":
+                case "BROWN_SHULKER_BOX":
+                case "GREEN_SHULKER_BOX":
+                case "RED_SHULKER_BOX":
+                case "BLACK_SHULKER_BOX":
                     blockEntityTag.setString("id", "shulker_box");
                     break;
             }
         }
         TileEntity te = (blockEntityTag == null) ? null : TileEntity.create(blockEntityTag);
 
-        switch (material) {
-        case ACACIA_SIGN:
-        case ACACIA_WALL_SIGN:
-        case BIRCH_SIGN:
-        case BIRCH_WALL_SIGN:
-        case DARK_OAK_SIGN:
-        case DARK_OAK_WALL_SIGN:
-        case JUNGLE_SIGN:
-        case JUNGLE_WALL_SIGN:
-        case OAK_SIGN:
-        case OAK_WALL_SIGN:
-        case SPRUCE_SIGN:
-        case SPRUCE_WALL_SIGN:
+        switch (material.name()) {
+        case "ACACIA_SIGN":
+        case "ACACIA_WALL_SIGN":
+        case "BIRCH_SIGN":
+        case "BIRCH_WALL_SIGN":
+        case "DARK_OAK_SIGN":
+        case "DARK_OAK_WALL_SIGN":
+        case "JUNGLE_SIGN":
+        case "JUNGLE_WALL_SIGN":
+        case "OAK_SIGN":
+        case "OAK_WALL_SIGN":
+        case "SPRUCE_SIGN":
+        case "SPRUCE_WALL_SIGN":
             if (te == null) {
                 te = new TileEntitySign();
             }
             return new CraftSign(material, (TileEntitySign) te);
-        case CHEST:
-        case TRAPPED_CHEST:
+        case "CHEST":
+        case "TRAPPED_CHEST":
             if (te == null) {
                 te = new TileEntityChest();
             }
             return new CraftChest(material, (TileEntityChest) te);
-        case FURNACE:
+        case "FURNACE":
             if (te == null) {
                 te = new TileEntityFurnaceFurnace();
             }
             return new CraftFurnace(material, (TileEntityFurnace) te);
-        case DISPENSER:
+        case "DISPENSER":
             if (te == null) {
                 te = new TileEntityDispenser();
             }
             return new CraftDispenser(material, (TileEntityDispenser) te);
-        case DROPPER:
+        case "DROPPER":
             if (te == null) {
                 te = new TileEntityDropper();
             }
             return new CraftDropper(material, (TileEntityDropper) te);
-        case END_GATEWAY:
+        case "END_GATEWAY":
             if (te == null) {
                 te = new TileEntityEndGateway();
             }
             return new CraftEndGateway(material, (TileEntityEndGateway) te);
-        case HOPPER:
+        case "HOPPER":
             if (te == null) {
                 te = new TileEntityHopper();
             }
             return new CraftHopper(material, (TileEntityHopper) te);
-        case SPAWNER:
+        case "SPAWNER":
             if (te == null) {
                 te = new TileEntityMobSpawner();
             }
             return new CraftCreatureSpawner(material, (TileEntityMobSpawner) te);
-        case JUKEBOX:
+        case "JUKEBOX":
             if (te == null) {
                 te = new TileEntityJukeBox();
             }
             return new CraftJukebox(material, (TileEntityJukeBox) te);
-        case BREWING_STAND:
+        case "BREWING_STAND":
             if (te == null) {
                 te = new TileEntityBrewingStand();
             }
             return new CraftBrewingStand(material, (TileEntityBrewingStand) te);
-        case CREEPER_HEAD:
-        case CREEPER_WALL_HEAD:
-        case DRAGON_HEAD:
-        case DRAGON_WALL_HEAD:
-        case PLAYER_HEAD:
-        case PLAYER_WALL_HEAD:
-        case SKELETON_SKULL:
-        case SKELETON_WALL_SKULL:
-        case WITHER_SKELETON_SKULL:
-        case WITHER_SKELETON_WALL_SKULL:
-        case ZOMBIE_HEAD:
-        case ZOMBIE_WALL_HEAD:
+        case "CREEPER_HEAD":
+        case "CREEPER_WALL_HEAD":
+        case "DRAGON_HEAD":
+        case "DRAGON_WALL_HEAD":
+        case "PLAYER_HEAD":
+        case "PLAYER_WALL_HEAD":
+        case "SKELETON_SKULL":
+        case "SKELETON_WALL_SKULL":
+        case "WITHER_SKELETON_SKULL":
+        case "WITHER_SKELETON_WALL_SKULL":
+        case "ZOMBIE_HEAD":
+        case "ZOMBIE_WALL_HEAD":
             if (te == null) {
                 te = new TileEntitySkull();
             }
             return new CraftSkull(material, (TileEntitySkull) te);
-        case COMMAND_BLOCK:
-        case REPEATING_COMMAND_BLOCK:
-        case CHAIN_COMMAND_BLOCK:
+        case "COMMAND_BLOCK":
+        case "REPEATING_COMMAND_BLOCK":
+        case "CHAIN_COMMAND_BLOCK":
             if (te == null) {
                 te = new TileEntityCommand();
             }
             return new CraftCommandBlock(material, (TileEntityCommand) te);
-        case BEACON:
+        case "BEACON":
             if (te == null) {
                 te = new TileEntityBeacon();
             }
             return new CraftBeacon(material, (TileEntityBeacon) te);
-        case SHIELD:
+        case "SHIELD":
             if (te == null) {
                 te = new TileEntityBanner();
             }
             ((TileEntityBanner) te).color = (blockEntityTag == null) ? EnumColor.WHITE : EnumColor.fromColorIndex(blockEntityTag.getInt(CraftMetaBanner.BASE.NBT));
-        case BLACK_BANNER:
-        case BLACK_WALL_BANNER:
-        case BLUE_BANNER:
-        case BLUE_WALL_BANNER:
-        case BROWN_BANNER:
-        case BROWN_WALL_BANNER:
-        case CYAN_BANNER:
-        case CYAN_WALL_BANNER:
-        case GRAY_BANNER:
-        case GRAY_WALL_BANNER:
-        case GREEN_BANNER:
-        case GREEN_WALL_BANNER:
-        case LIGHT_BLUE_BANNER:
-        case LIGHT_BLUE_WALL_BANNER:
-        case LIGHT_GRAY_BANNER:
-        case LIGHT_GRAY_WALL_BANNER:
-        case LIME_BANNER:
-        case LIME_WALL_BANNER:
-        case MAGENTA_BANNER:
-        case MAGENTA_WALL_BANNER:
-        case ORANGE_BANNER:
-        case ORANGE_WALL_BANNER:
-        case PINK_BANNER:
-        case PINK_WALL_BANNER:
-        case PURPLE_BANNER:
-        case PURPLE_WALL_BANNER:
-        case RED_BANNER:
-        case RED_WALL_BANNER:
-        case WHITE_BANNER:
-        case WHITE_WALL_BANNER:
-        case YELLOW_BANNER:
-        case YELLOW_WALL_BANNER:
+        case "BLACK_BANNER":
+        case "BLACK_WALL_BANNER":
+        case "BLUE_BANNER":
+        case "BLUE_WALL_BANNER":
+        case "BROWN_BANNER":
+        case "BROWN_WALL_BANNER":
+        case "CYAN_BANNER":
+        case "CYAN_WALL_BANNER":
+        case "GRAY_BANNER":
+        case "GRAY_WALL_BANNER":
+        case "GREEN_BANNER":
+        case "GREEN_WALL_BANNER":
+        case "LIGHT_BLUE_BANNER":
+        case "LIGHT_BLUE_WALL_BANNER":
+        case "LIGHT_GRAY_BANNER":
+        case "LIGHT_GRAY_WALL_BANNER":
+        case "LIME_BANNER":
+        case "LIME_WALL_BANNER":
+        case "MAGENTA_BANNER":
+        case "MAGENTA_WALL_BANNER":
+        case "ORANGE_BANNER":
+        case "ORANGE_WALL_BANNER":
+        case "PINK_BANNER":
+        case "PINK_WALL_BANNER":
+        case "PURPLE_BANNER":
+        case "PURPLE_WALL_BANNER":
+        case "RED_BANNER":
+        case "RED_WALL_BANNER":
+        case "WHITE_BANNER":
+        case "WHITE_WALL_BANNER":
+        case "YELLOW_BANNER":
+        case "YELLOW_WALL_BANNER":
             if (te == null) {
                 te = new TileEntityBanner();
             }
             return new CraftBanner(material == Material.SHIELD ? shieldToBannerHack(blockEntityTag) : material, (TileEntityBanner) te);
-        case STRUCTURE_BLOCK:
+        case "STRUCTURE_BLOCK":
             if (te == null) {
                 te = new TileEntityStructure();
             }
             return new CraftStructureBlock(material, (TileEntityStructure) te);
-        case SHULKER_BOX:
-        case WHITE_SHULKER_BOX:
-        case ORANGE_SHULKER_BOX:
-        case MAGENTA_SHULKER_BOX:
-        case LIGHT_BLUE_SHULKER_BOX:
-        case YELLOW_SHULKER_BOX:
-        case LIME_SHULKER_BOX:
-        case PINK_SHULKER_BOX:
-        case GRAY_SHULKER_BOX:
-        case LIGHT_GRAY_SHULKER_BOX:
-        case CYAN_SHULKER_BOX:
-        case PURPLE_SHULKER_BOX:
-        case BLUE_SHULKER_BOX:
-        case BROWN_SHULKER_BOX:
-        case GREEN_SHULKER_BOX:
-        case RED_SHULKER_BOX:
-        case BLACK_SHULKER_BOX:
+        case "SHULKER_BOX":
+        case "WHITE_SHULKER_BOX":
+        case "ORANGE_SHULKER_BOX":
+        case "MAGENTA_SHULKER_BOX":
+        case "LIGHT_BLUE_SHULKER_BOX":
+        case "YELLOW_SHULKER_BOX":
+        case "LIME_SHULKER_BOX":
+        case "PINK_SHULKER_BOX":
+        case "GRAY_SHULKER_BOX":
+        case "LIGHT_GRAY_SHULKER_BOX":
+        case "CYAN_SHULKER_BOX":
+        case "PURPLE_SHULKER_BOX":
+        case "BLUE_SHULKER_BOX":
+        case "BROWN_SHULKER_BOX":
+        case "GREEN_SHULKER_BOX":
+        case "RED_SHULKER_BOX":
+        case "BLACK_SHULKER_BOX":
             if (te == null) {
                 te = new TileEntityShulkerBox();
             }
             return new CraftShulkerBox(material, (TileEntityShulkerBox) te);
-        case ENCHANTING_TABLE:
+        case "ENCHANTING_TABLE":
             if (te == null) {
                 te = new TileEntityEnchantTable();
             }
             return new CraftEnchantingTable(material, (TileEntityEnchantTable) te);
-        case ENDER_CHEST:
+        case "ENDER_CHEST":
             if (te == null){
                 te = new TileEntityEnderChest();
             }
             return new CraftEnderChest(material, (TileEntityEnderChest) te);
-        case DAYLIGHT_DETECTOR:
+        case "DAYLIGHT_DETECTOR":
             if (te == null){
                 te = new TileEntityLightDetector();
             }
             return new CraftDaylightDetector(material, (TileEntityLightDetector) te);
-        case COMPARATOR:
+        case "COMPARATOR":
             if (te == null){
                 te = new TileEntityComparator();
             }
             return new CraftComparator(material, (TileEntityComparator) te);
-        case BARREL:
+        case "BARREL":
             if (te == null){
                 te = new TileEntityBarrel();
             }
             return new CraftBarrel(material, (TileEntityBarrel) te);
-        case BELL:
+        case "BELL":
             if (te == null){
                 te = new TileEntityBell();
             }
             return new CraftBell(material, (TileEntityBell) te);
-        case BLAST_FURNACE:
+        case "BLAST_FURNACE":
             if (te == null){
                 te = new TileEntityBlastFurnace();
             }
             return new CraftBlastFurnace(material, (TileEntityBlastFurnace) te);
-        case CAMPFIRE:
+        case "CAMPFIRE":
             if (te == null){
                 te = new TileEntityCampfire();
             }
             return new CraftCampfire(material, (TileEntityCampfire) te);
-        case JIGSAW:
+        case "JIGSAW":
             if (te == null){
                 te = new TileEntityJigsaw();
             }
             return new CraftJigsaw(material, (TileEntityJigsaw) te);
-        case LECTERN:
+        case "LECTERN":
             if (te == null){
                 te = new TileEntityLectern();
             }
             return new CraftLectern(material, (TileEntityLectern) te);
-        case SMOKER:
+        case "SMOKER":
             if (te == null){
                 te = new TileEntitySmoker();
             }
@@ -510,159 +510,159 @@ public class CraftMetaBlockState extends CraftMetaItem implements BlockStateMeta
         Validate.notNull(blockState, "blockState must not be null");
 
         boolean valid;
-        switch (material) {
-        case ACACIA_SIGN:
-        case ACACIA_WALL_SIGN:
-        case BIRCH_SIGN:
-        case BIRCH_WALL_SIGN:
-        case DARK_OAK_SIGN:
-        case DARK_OAK_WALL_SIGN:
-        case JUNGLE_SIGN:
-        case JUNGLE_WALL_SIGN:
-        case OAK_SIGN:
-        case OAK_WALL_SIGN:
-        case SPRUCE_SIGN:
-        case SPRUCE_WALL_SIGN:
+        switch (material.name()) {
+        case "ACACIA_SIGN":
+        case "ACACIA_WALL_SIGN":
+        case "BIRCH_SIGN":
+        case "BIRCH_WALL_SIGN":
+        case "DARK_OAK_SIGN":
+        case "DARK_OAK_WALL_SIGN":
+        case "JUNGLE_SIGN":
+        case "JUNGLE_WALL_SIGN":
+        case "OAK_SIGN":
+        case "OAK_WALL_SIGN":
+        case "SPRUCE_SIGN":
+        case "SPRUCE_WALL_SIGN":
             valid = blockState instanceof CraftSign;
             break;
-        case CHEST:
-        case TRAPPED_CHEST:
+        case "CHEST":
+        case "TRAPPED_CHEST":
             valid = blockState instanceof CraftChest;
             break;
-        case FURNACE:
+        case "FURNACE":
             valid = blockState instanceof CraftFurnace;
             break;
-        case DISPENSER:
+        case "DISPENSER":
             valid = blockState instanceof CraftDispenser;
             break;
-        case DROPPER:
+        case "DROPPER":
             valid = blockState instanceof CraftDropper;
             break;
-        case END_GATEWAY:
+        case "END_GATEWAY":
             valid = blockState instanceof CraftEndGateway;
             break;
-        case HOPPER:
+        case "HOPPER":
             valid = blockState instanceof CraftHopper;
             break;
-        case SPAWNER:
+        case "SPAWNER":
             valid = blockState instanceof CraftCreatureSpawner;
             break;
-        case JUKEBOX:
+        case "JUKEBOX":
             valid = blockState instanceof CraftJukebox;
             break;
-        case BREWING_STAND:
+        case "BREWING_STAND":
             valid = blockState instanceof CraftBrewingStand;
             break;
-        case CREEPER_HEAD:
-        case CREEPER_WALL_HEAD:
-        case DRAGON_HEAD:
-        case DRAGON_WALL_HEAD:
-        case PLAYER_HEAD:
-        case PLAYER_WALL_HEAD:
-        case SKELETON_SKULL:
-        case SKELETON_WALL_SKULL:
-        case WITHER_SKELETON_SKULL:
-        case WITHER_SKELETON_WALL_SKULL:
-        case ZOMBIE_HEAD:
-        case ZOMBIE_WALL_HEAD:
+        case "CREEPER_HEAD":
+        case "CREEPER_WALL_HEAD":
+        case "DRAGON_HEAD":
+        case "DRAGON_WALL_HEAD":
+        case "PLAYER_HEAD":
+        case "PLAYER_WALL_HEAD":
+        case "SKELETON_SKULL":
+        case "SKELETON_WALL_SKULL":
+        case "WITHER_SKELETON_SKULL":
+        case "WITHER_SKELETON_WALL_SKULL":
+        case "ZOMBIE_HEAD":
+        case "ZOMBIE_WALL_HEAD":
             valid = blockState instanceof CraftSkull;
             break;
-        case COMMAND_BLOCK:
-        case REPEATING_COMMAND_BLOCK:
-        case CHAIN_COMMAND_BLOCK:
+        case "COMMAND_BLOCK":
+        case "REPEATING_COMMAND_BLOCK":
+        case "CHAIN_COMMAND_BLOCK":
             valid = blockState instanceof CraftCommandBlock;
             break;
-        case BEACON:
+        case "BEACON":
             valid = blockState instanceof CraftBeacon;
             break;
-        case SHIELD:
-        case BLACK_BANNER:
-        case BLACK_WALL_BANNER:
-        case BLUE_BANNER:
-        case BLUE_WALL_BANNER:
-        case BROWN_BANNER:
-        case BROWN_WALL_BANNER:
-        case CYAN_BANNER:
-        case CYAN_WALL_BANNER:
-        case GRAY_BANNER:
-        case GRAY_WALL_BANNER:
-        case GREEN_BANNER:
-        case GREEN_WALL_BANNER:
-        case LIGHT_BLUE_BANNER:
-        case LIGHT_BLUE_WALL_BANNER:
-        case LIGHT_GRAY_BANNER:
-        case LIGHT_GRAY_WALL_BANNER:
-        case LIME_BANNER:
-        case LIME_WALL_BANNER:
-        case MAGENTA_BANNER:
-        case MAGENTA_WALL_BANNER:
-        case ORANGE_BANNER:
-        case ORANGE_WALL_BANNER:
-        case PINK_BANNER:
-        case PINK_WALL_BANNER:
-        case PURPLE_BANNER:
-        case PURPLE_WALL_BANNER:
-        case RED_BANNER:
-        case RED_WALL_BANNER:
-        case WHITE_BANNER:
-        case WHITE_WALL_BANNER:
-        case YELLOW_BANNER:
-        case YELLOW_WALL_BANNER:
+        case "SHIELD":
+        case "BLACK_BANNER":
+        case "BLACK_WALL_BANNER":
+        case "BLUE_BANNER":
+        case "BLUE_WALL_BANNER":
+        case "BROWN_BANNER":
+        case "BROWN_WALL_BANNER":
+        case "CYAN_BANNER":
+        case "CYAN_WALL_BANNER":
+        case "GRAY_BANNER":
+        case "GRAY_WALL_BANNER":
+        case "GREEN_BANNER":
+        case "GREEN_WALL_BANNER":
+        case "LIGHT_BLUE_BANNER":
+        case "LIGHT_BLUE_WALL_BANNER":
+        case "LIGHT_GRAY_BANNER":
+        case "LIGHT_GRAY_WALL_BANNER":
+        case "LIME_BANNER":
+        case "LIME_WALL_BANNER":
+        case "MAGENTA_BANNER":
+        case "MAGENTA_WALL_BANNER":
+        case "ORANGE_BANNER":
+        case "ORANGE_WALL_BANNER":
+        case "PINK_BANNER":
+        case "PINK_WALL_BANNER":
+        case "PURPLE_BANNER":
+        case "PURPLE_WALL_BANNER":
+        case "RED_BANNER":
+        case "RED_WALL_BANNER":
+        case "WHITE_BANNER":
+        case "WHITE_WALL_BANNER":
+        case "YELLOW_BANNER":
+        case "YELLOW_WALL_BANNER":
             valid = blockState instanceof CraftBanner;
             break;
-        case STRUCTURE_BLOCK:
+        case "STRUCTURE_BLOCK":
             valid = blockState instanceof CraftStructureBlock;
             break;
-        case SHULKER_BOX:
-        case WHITE_SHULKER_BOX:
-        case ORANGE_SHULKER_BOX:
-        case MAGENTA_SHULKER_BOX:
-        case LIGHT_BLUE_SHULKER_BOX:
-        case YELLOW_SHULKER_BOX:
-        case LIME_SHULKER_BOX:
-        case PINK_SHULKER_BOX:
-        case GRAY_SHULKER_BOX:
-        case LIGHT_GRAY_SHULKER_BOX:
-        case CYAN_SHULKER_BOX:
-        case PURPLE_SHULKER_BOX:
-        case BLUE_SHULKER_BOX:
-        case BROWN_SHULKER_BOX:
-        case GREEN_SHULKER_BOX:
-        case RED_SHULKER_BOX:
-        case BLACK_SHULKER_BOX:
+        case "SHULKER_BOX":
+        case "WHITE_SHULKER_BOX":
+        case "ORANGE_SHULKER_BOX":
+        case "MAGENTA_SHULKER_BOX":
+        case "LIGHT_BLUE_SHULKER_BOX":
+        case "YELLOW_SHULKER_BOX":
+        case "LIME_SHULKER_BOX":
+        case "PINK_SHULKER_BOX":
+        case "GRAY_SHULKER_BOX":
+        case "LIGHT_GRAY_SHULKER_BOX":
+        case "CYAN_SHULKER_BOX":
+        case "PURPLE_SHULKER_BOX":
+        case "BLUE_SHULKER_BOX":
+        case "BROWN_SHULKER_BOX":
+        case "GREEN_SHULKER_BOX":
+        case "RED_SHULKER_BOX":
+        case "BLACK_SHULKER_BOX":
             valid = blockState instanceof CraftShulkerBox;
             break;
-        case ENCHANTING_TABLE:
+        case "ENCHANTING_TABLE":
             valid = blockState instanceof CraftEnchantingTable;
             break;
-        case ENDER_CHEST:
+        case "ENDER_CHEST":
             valid = blockState instanceof CraftEnderChest;
             break;
-        case DAYLIGHT_DETECTOR:
+        case "DAYLIGHT_DETECTOR":
             valid = blockState instanceof CraftDaylightDetector;
             break;
-        case COMPARATOR:
+        case "COMPARATOR":
             valid = blockState instanceof CraftComparator;
             break;
-        case BARREL:
+        case "BARREL":
             valid = blockState instanceof CraftBarrel;
             break;
-        case BELL:
+        case "BELL":
             valid = blockState instanceof CraftBell;
             break;
-        case BLAST_FURNACE:
+        case "BLAST_FURNACE":
             valid = blockState instanceof CraftBlastFurnace;
             break;
-        case CAMPFIRE:
+        case "CAMPFIRE":
             valid = blockState instanceof CraftCampfire;
             break;
-        case JIGSAW:
+        case "JIGSAW":
             valid = blockState instanceof CraftJigsaw;
             break;
-        case LECTERN:
+        case "LECTERN":
             valid = blockState instanceof CraftLectern;
             break;
-        case SMOKER:
+        case "SMOKER":
             valid = blockState instanceof CraftSmoker;
             break;
         default:
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBook.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBook.java
index 7262920c1..ada2afce9 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBook.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBook.java
@@ -160,9 +160,9 @@ public class CraftMetaBook extends CraftMetaItem implements BookMeta {
 
     @Override
     boolean applicableTo(Material type) {
-        switch (type) {
-        case WRITTEN_BOOK:
-        case WRITABLE_BOOK:
+        switch (type.name()) {
+        case "WRITTEN_BOOK":
+        case "WRITABLE_BOOK":
             return true;
         default:
             return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBookSigned.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBookSigned.java
index 753bf7786..039a03c90 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBookSigned.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaBookSigned.java
@@ -85,9 +85,9 @@ class CraftMetaBookSigned extends CraftMetaBook implements BookMeta {
 
     @Override
     boolean applicableTo(Material type) {
-        switch (type) {
-        case WRITTEN_BOOK:
-        case WRITABLE_BOOK:
+        switch (type.name()) {
+        case "WRITTEN_BOOK":
+        case "WRITABLE_BOOK":
             return true;
         default:
             return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaCharge.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaCharge.java
index 2aab57db7..f646cbf6d 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaCharge.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaCharge.java
@@ -69,8 +69,8 @@ class CraftMetaCharge extends CraftMetaItem implements FireworkEffectMeta {
 
     @Override
     boolean applicableTo(Material type) {
-        switch (type) {
-            case FIREWORK_STAR:
+        switch (type.name()) {
+            case "FIREWORK_STAR":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaCrossbow.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaCrossbow.java
index 15fc0115c..7640c4cae 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaCrossbow.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaCrossbow.java
@@ -97,8 +97,8 @@ public class CraftMetaCrossbow extends CraftMetaItem implements CrossbowMeta {
 
     @Override
     boolean applicableTo(Material type) {
-        switch (type) {
-            case CROSSBOW:
+        switch (type.name()) {
+            case "CROSSBOW":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaEnchantedBook.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaEnchantedBook.java
index f5feea207..8cf1b9080 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaEnchantedBook.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaEnchantedBook.java
@@ -56,8 +56,8 @@ class CraftMetaEnchantedBook extends CraftMetaItem implements EnchantmentStorage
 
     @Override
     boolean applicableTo(Material type) {
-        switch (type) {
-            case ENCHANTED_BOOK:
+        switch (type.name()) {
+            case "ENCHANTED_BOOK":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaFirework.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaFirework.java
index 7a1c4d619..2d6a5e945 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaFirework.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaFirework.java
@@ -254,8 +254,8 @@ class CraftMetaFirework extends CraftMetaItem implements FireworkMeta {
 
     @Override
     boolean applicableTo(Material type) {
-        switch(type) {
-            case FIREWORK_ROCKET:
+        switch(type.name()) {
+            case "FIREWORK_ROCKET":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaKnowledgeBook.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaKnowledgeBook.java
index 2d2d73cc0..9ae4a9e12 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaKnowledgeBook.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaKnowledgeBook.java
@@ -83,8 +83,8 @@ public class CraftMetaKnowledgeBook extends CraftMetaItem implements KnowledgeBo
 
     @Override
     boolean applicableTo(Material type) {
-        switch (type) {
-            case KNOWLEDGE_BOOK:
+        switch (type.name()) {
+            case "KNOWLEDGE_BOOK":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaLeatherArmor.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaLeatherArmor.java
index ecb12457a..1d8e561c9 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaLeatherArmor.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaLeatherArmor.java
@@ -66,12 +66,12 @@ class CraftMetaLeatherArmor extends CraftMetaItem implements LeatherArmorMeta {
 
     @Override
     boolean applicableTo(Material type) {
-        switch(type) {
-            case LEATHER_HELMET:
-            case LEATHER_HORSE_ARMOR:
-            case LEATHER_CHESTPLATE:
-            case LEATHER_LEGGINGS:
-            case LEATHER_BOOTS:
+        switch(type.name()) {
+            case "LEATHER_HELMET":
+            case "LEATHER_HORSE_ARMOR":
+            case "LEATHER_CHESTPLATE":
+            case "LEATHER_LEGGINGS":
+            case "LEATHER_BOOTS":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaMap.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaMap.java
index 114b70588..64d49935a 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaMap.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaMap.java
@@ -121,8 +121,8 @@ class CraftMetaMap extends CraftMetaItem implements MapMeta {
 
     @Override
     boolean applicableTo(Material type) {
-        switch (type) {
-            case FILLED_MAP:
+        switch (type.name()) {
+            case "FILLED_MAP":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaPotion.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaPotion.java
index 49c74f4b6..4070a2029 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaPotion.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaPotion.java
@@ -149,11 +149,11 @@ class CraftMetaPotion extends CraftMetaItem implements PotionMeta {
 
     @Override
     boolean applicableTo(Material type) {
-        switch(type) {
-            case POTION:
-            case SPLASH_POTION:
-            case LINGERING_POTION:
-            case TIPPED_ARROW:
+        switch(type.name()) {
+            case "POTION":
+            case "SPLASH_POTION":
+            case "LINGERING_POTION":
+            case "TIPPED_ARROW":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaSkull.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaSkull.java
index c29a78fd3..ece9a38fc 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaSkull.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaSkull.java
@@ -100,19 +100,19 @@ class CraftMetaSkull extends CraftMetaItem implements SkullMeta {
 
     @Override
     boolean applicableTo(Material type) {
-        switch (type) {
-            case CREEPER_HEAD:
-            case CREEPER_WALL_HEAD:
-            case DRAGON_HEAD:
-            case DRAGON_WALL_HEAD:
-            case PLAYER_HEAD:
-            case PLAYER_WALL_HEAD:
-            case SKELETON_SKULL:
-            case SKELETON_WALL_SKULL:
-            case WITHER_SKELETON_SKULL:
-            case WITHER_SKELETON_WALL_SKULL:
-            case ZOMBIE_HEAD:
-            case ZOMBIE_WALL_HEAD:
+        switch (type.name()) {
+            case "CREEPER_HEAD":
+            case "CREEPER_WALL_HEAD":
+            case "DRAGON_HEAD":
+            case "DRAGON_WALL_HEAD":
+            case "PLAYER_HEAD":
+            case "PLAYER_WALL_HEAD":
+            case "SKELETON_SKULL":
+            case "SKELETON_WALL_SKULL":
+            case "WITHER_SKELETON_SKULL":
+            case "WITHER_SKELETON_WALL_SKULL":
+            case "ZOMBIE_HEAD":
+            case "ZOMBIE_WALL_HEAD":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaSpawnEgg.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaSpawnEgg.java
index 082f85119..d43212478 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaSpawnEgg.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaSpawnEgg.java
@@ -109,65 +109,65 @@ public class CraftMetaSpawnEgg extends CraftMetaItem implements SpawnEggMeta {
 
     @Override
     boolean applicableTo(Material type) {
-        switch (type) {
-            case BAT_SPAWN_EGG:
-            case BLAZE_SPAWN_EGG:
-            case CAT_SPAWN_EGG:
-            case CAVE_SPIDER_SPAWN_EGG:
-            case CHICKEN_SPAWN_EGG:
-            case COD_SPAWN_EGG:
-            case COW_SPAWN_EGG:
-            case CREEPER_SPAWN_EGG:
-            case DOLPHIN_SPAWN_EGG:
-            case DONKEY_SPAWN_EGG:
-            case DROWNED_SPAWN_EGG:
-            case ELDER_GUARDIAN_SPAWN_EGG:
-            case ENDERMAN_SPAWN_EGG:
-            case ENDERMITE_SPAWN_EGG:
-            case EVOKER_SPAWN_EGG:
-            case FOX_SPAWN_EGG:
-            case GHAST_SPAWN_EGG:
-            case GUARDIAN_SPAWN_EGG:
-            case HORSE_SPAWN_EGG:
-            case HUSK_SPAWN_EGG:
-            case LLAMA_SPAWN_EGG:
-            case MAGMA_CUBE_SPAWN_EGG:
-            case MOOSHROOM_SPAWN_EGG:
-            case MULE_SPAWN_EGG:
-            case OCELOT_SPAWN_EGG:
-            case PANDA_SPAWN_EGG:
-            case PARROT_SPAWN_EGG:
-            case PHANTOM_SPAWN_EGG:
-            case PIG_SPAWN_EGG:
-            case PILLAGER_SPAWN_EGG:
-            case POLAR_BEAR_SPAWN_EGG:
-            case PUFFERFISH_SPAWN_EGG:
-            case RABBIT_SPAWN_EGG:
-            case RAVAGER_SPAWN_EGG:
-            case SALMON_SPAWN_EGG:
-            case SHEEP_SPAWN_EGG:
-            case SHULKER_SPAWN_EGG:
-            case SILVERFISH_SPAWN_EGG:
-            case SKELETON_HORSE_SPAWN_EGG:
-            case SKELETON_SPAWN_EGG:
-            case SLIME_SPAWN_EGG:
-            case SPIDER_SPAWN_EGG:
-            case SQUID_SPAWN_EGG:
-            case STRAY_SPAWN_EGG:
-            case TRADER_LLAMA_SPAWN_EGG:
-            case TROPICAL_FISH_SPAWN_EGG:
-            case TURTLE_SPAWN_EGG:
-            case VEX_SPAWN_EGG:
-            case VILLAGER_SPAWN_EGG:
-            case VINDICATOR_SPAWN_EGG:
-            case WANDERING_TRADER_SPAWN_EGG:
-            case WITCH_SPAWN_EGG:
-            case WITHER_SKELETON_SPAWN_EGG:
-            case WOLF_SPAWN_EGG:
-            case ZOMBIE_HORSE_SPAWN_EGG:
-            case ZOMBIE_PIGMAN_SPAWN_EGG:
-            case ZOMBIE_SPAWN_EGG:
-            case ZOMBIE_VILLAGER_SPAWN_EGG:
+        switch (type.name()) {
+            case "BAT_SPAWN_EGG":
+            case "BLAZE_SPAWN_EGG":
+            case "CAT_SPAWN_EGG":
+            case "CAVE_SPIDER_SPAWN_EGG":
+            case "CHICKEN_SPAWN_EGG":
+            case "COD_SPAWN_EGG":
+            case "COW_SPAWN_EGG":
+            case "CREEPER_SPAWN_EGG":
+            case "DOLPHIN_SPAWN_EGG":
+            case "DONKEY_SPAWN_EGG":
+            case "DROWNED_SPAWN_EGG":
+            case "ELDER_GUARDIAN_SPAWN_EGG":
+            case "ENDERMAN_SPAWN_EGG":
+            case "ENDERMITE_SPAWN_EGG":
+            case "EVOKER_SPAWN_EGG":
+            case "FOX_SPAWN_EGG":
+            case "GHAST_SPAWN_EGG":
+            case "GUARDIAN_SPAWN_EGG":
+            case "HORSE_SPAWN_EGG":
+            case "HUSK_SPAWN_EGG":
+            case "LLAMA_SPAWN_EGG":
+            case "MAGMA_CUBE_SPAWN_EGG":
+            case "MOOSHROOM_SPAWN_EGG":
+            case "MULE_SPAWN_EGG":
+            case "OCELOT_SPAWN_EGG":
+            case "PANDA_SPAWN_EGG":
+            case "PARROT_SPAWN_EGG":
+            case "PHANTOM_SPAWN_EGG":
+            case "PIG_SPAWN_EGG":
+            case "PILLAGER_SPAWN_EGG":
+            case "POLAR_BEAR_SPAWN_EGG":
+            case "PUFFERFISH_SPAWN_EGG":
+            case "RABBIT_SPAWN_EGG":
+            case "RAVAGER_SPAWN_EGG":
+            case "SALMON_SPAWN_EGG":
+            case "SHEEP_SPAWN_EGG":
+            case "SHULKER_SPAWN_EGG":
+            case "SILVERFISH_SPAWN_EGG":
+            case "SKELETON_HORSE_SPAWN_EGG":
+            case "SKELETON_SPAWN_EGG":
+            case "SLIME_SPAWN_EGG":
+            case "SPIDER_SPAWN_EGG":
+            case "SQUID_SPAWN_EGG":
+            case "STRAY_SPAWN_EGG":
+            case "TRADER_LLAMA_SPAWN_EGG":
+            case "TROPICAL_FISH_SPAWN_EGG":
+            case "TURTLE_SPAWN_EGG":
+            case "VEX_SPAWN_EGG":
+            case "VILLAGER_SPAWN_EGG":
+            case "VINDICATOR_SPAWN_EGG":
+            case "WANDERING_TRADER_SPAWN_EGG":
+            case "WITCH_SPAWN_EGG":
+            case "WITHER_SKELETON_SPAWN_EGG":
+            case "WOLF_SPAWN_EGG":
+            case "ZOMBIE_HORSE_SPAWN_EGG":
+            case "ZOMBIE_PIGMAN_SPAWN_EGG":
+            case "ZOMBIE_SPAWN_EGG":
+            case "ZOMBIE_VILLAGER_SPAWN_EGG":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaTropicalFishBucket.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaTropicalFishBucket.java
index eee51f07a..b3edb92ae 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaTropicalFishBucket.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaTropicalFishBucket.java
@@ -57,8 +57,8 @@ class CraftMetaTropicalFishBucket extends CraftMetaItem implements TropicalFishB
 
     @Override
     boolean applicableTo(Material type) {
-        switch (type) {
-            case TROPICAL_FISH_BUCKET:
+        switch (type.name()) {
+            case "TROPICAL_FISH_BUCKET":
                 return true;
             default:
                 return false;
diff --git a/src/main/java/org/bukkit/craftbukkit/util/CraftLegacy.java b/src/main/java/org/bukkit/craftbukkit/util/CraftLegacy.java
index 4539a4a77..773c0864f 100644
--- a/src/main/java/org/bukkit/craftbukkit/util/CraftLegacy.java
+++ b/src/main/java/org/bukkit/craftbukkit/util/CraftLegacy.java
@@ -213,8 +213,7 @@ public class CraftLegacy {
     }
 
     public static Material[] values() {
-        Material[] values = Material.values();
-        return Arrays.copyOfRange(values, Material.LEGACY_AIR.ordinal(), values.length);
+        return Material.legacyValues();
     }
 
     public static Material valueOf(String name) {
@@ -232,7 +231,7 @@ public class CraftLegacy {
     public static int ordinal(Material material) {
         Preconditions.checkArgument(material.isLegacy(), "ordinal on modern Material");
 
-        return material.ordinal() - Material.LEGACY_AIR.ordinal();
+        return material.legacyOrdinal();
     }
 
     public static String name(Material material) {
@@ -244,8 +243,7 @@ public class CraftLegacy {
     }
 
     public static Material[] modern_values() {
-        Material[] values = Material.values();
-        return Arrays.copyOfRange(values, 0, Material.LEGACY_AIR.ordinal());
+        return Material.modernValues();
     }
 
     public static int modern_ordinal(Material material) {
@@ -254,7 +252,7 @@ public class CraftLegacy {
             throw new NoSuchFieldError("Legacy field ordinal: " + material);
         }
 
-        return material.ordinal();
+        return material.modernOrdinal();
     }
 
     static {
diff --git a/src/test/java/org/bukkit/craftbukkit/inventory/FactoryItemMaterialTest.java b/src/test/java/org/bukkit/craftbukkit/inventory/FactoryItemMaterialTest.java
index 7580eb290..85d93aec1 100644
--- a/src/test/java/org/bukkit/craftbukkit/inventory/FactoryItemMaterialTest.java
+++ b/src/test/java/org/bukkit/craftbukkit/inventory/FactoryItemMaterialTest.java
@@ -34,7 +34,7 @@ public class FactoryItemMaterialTest extends AbstractTestingBase {
         materials = list.toArray(new Material[list.size()]);
     }
 
-    static String name(Enum<?> from, Enum<?> to) {
+    static String name(Material from, Material to) {
         if (from.getClass() == to.getClass()) {
             return buffer.delete(0, Integer.MAX_VALUE).append(from.getClass().getName()).append(' ').append(from.name()).append(" to ").append(to.name()).toString();
         }
-- 
2.24.1

